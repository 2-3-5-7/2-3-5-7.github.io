<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>自强不息 厚德载物 • Posts by &#34;2. 处理平台&#34; category</title>
        <link>https://synrst.de</link>
        <description>分享各种内容，方便自己与他人查阅，欢迎评论</description>
        <language>zh-CN</language>
        <pubDate>Thu, 01 Jan 1970 08:00:00 +0800</pubDate>
        <lastBuildDate>Thu, 01 Jan 1970 08:00:00 +0800</lastBuildDate>
        <item>
            <guid isPermalink="true">https://synrst.de/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/kindle/</guid>
            <title>kindle</title>
            <link>https://synrst.de/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/kindle/</link>
            <pubDate>Thu, 01 Jan 1970 08:00:00 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;1-设置&#34;&gt;&lt;a href=&#34;#1-设置&#34; class=&#34;headerlink&#34; title=&#34;1 设置&#34;&gt;&lt;/a&gt;1 设置&lt;/h1&gt;&lt;p&gt;字体和词典在 kindle 环境文件夹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;把电子书过滤设置选为“全部内容”，然后把电子书排序设置选为“收藏夹” 。&lt;a href=&#34;https://bookfere.com/post/140.html&#34;&gt;用收藏夹分类电子书&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;字体放在 fonts 文件夹，自带英文字体可以用 &lt;code&gt;Baskerville &lt;/code&gt;，中文字体思源黑体还好，思源宋体（Source Han Serif）太浅不要用，&lt;a href=&#34;https://sspai.com/post/38705&#34;&gt;思源宋体，如何评价，以及如何正确使用&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;词典放在 documents\dictionaries 文件夹&lt;/li&gt;
&lt;li&gt;一本英汉：与 PC 词典相同的简明英汉（160万），一本英英：Merriam-Webster’s Advanced Learner’s Dictionary，&lt;a href=&#34;https://blog.ohiyox.in/read/85.html&#34;&gt;选择依据&lt;/a&gt;。其它为 kindle 自带，现代英汉、汉英、汉语，Oxford&lt;/li&gt;
&lt;li&gt;kindle 不适合阅读长篇英英解释，如需彻底理解单词，用 kindlemate 导出生词本到欧路词典背，见 词典软件。或者在平板上用 kindle App 同步过来，使用欧路词典&lt;/li&gt;
&lt;li&gt;文章订阅，kindle4rss。发送频率 3 天，否则要经常删除云端文档，不需要同步可以关闭云端存档。不再使用的两个订阅 &lt;a href=&#34;https://feed43.com/5507628278627385.xml&#34;&gt;田间小站-双语阅读&lt;/a&gt;、&lt;a href=&#34;https://feed43.com/6180220188002736.xml&#34;&gt;经济学人双语版&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;kindle 正版书也可以切换到其它国家购买，同时可以装 google play 版本和中国版，实现双开。由于 kindle for pc 复制后会插入空格和一行来源，需要编程&lt;a href=&#34;https://aasukaa.blogspot.com/2016/11/pc-kindle.html&#34;&gt;实现自动去除&lt;/a&gt;，对于需要做笔记的书暂不考虑购买正版，且calibre 去 drm 插件对 kfx 格式支持也不够好&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;2-书籍来源&#34;&gt;&lt;a href=&#34;#2-书籍来源&#34; class=&#34;headerlink&#34; title=&#34;2 书籍来源&#34;&gt;&lt;/a&gt;2 书籍来源&lt;/h1&gt;&lt;h1 id=&#34;3-书籍处理&#34;&gt;&lt;a href=&#34;#3-书籍处理&#34; class=&#34;headerlink&#34; title=&#34;3 书籍处理&#34;&gt;&lt;/a&gt;3 书籍处理&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;见 &lt;a href=&#34;/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/kindle/../../3.%20%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7/%E7%94%B5%E5%AD%90%E4%B9%A6%E5%A4%84%E7%90%86/&#34;&gt;电子书处理&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;4-字体处理&#34;&gt;&lt;a href=&#34;#4-字体处理&#34; class=&#34;headerlink&#34; title=&#34;4 字体处理&#34;&gt;&lt;/a&gt;4 字体处理&lt;/h1&gt;&lt;p&gt;字体正常是 4 个文件放入 kindle，比如 NotoSans-Bold、NotoSans-BoldItalic、NotoSans-Italic、NotoSans-Regular&lt;/p&gt;
&lt;p&gt;有时缺少斜体 Italic，可用 ttx 工具将想要加入的斜体的 &lt;code&gt;&amp;lt;name&amp;gt;&lt;/code&gt; 中 &lt;code&gt;nameID=1&lt;/code&gt; 改为与 regular 相同的 FontFamily，可能不止一处&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ubuntu 下&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 解开 regular 看一下 name 表中的值&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ttx -o r.ttx Play-Regular.ttf&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 解开 Italic 将 name 表中的值改为和 regular 中的一样，可能有多个&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ttx -o i.ttx Play-Italic.ttf&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 重新打包回 ttf&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ttx -o i.ttf i.ttx&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;参见 &lt;a href=&#34;https://mine260309.me/archives/1148&#34;&gt;Kindle Paperwhite 添加中文字体&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&#34;5-App-端&#34;&gt;&lt;a href=&#34;#5-App-端&#34; class=&#34;headerlink&#34; title=&#34;5 App 端&#34;&gt;&lt;/a&gt;5 App 端&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;android 可以替换中文字体，相同文件名覆盖即可，路径 &lt;code&gt;内部存储\Android\data\com.amazon.kindlefc\files\fonts&lt;/code&gt;。但无法替换英文字体，只能 root 后把系统字体换掉 &lt;a href=&#34;https://lifehacker.com/how-to-change-kindle-app-fonts-on-android-5873409&#34;&gt;How to Change Kindle App Fonts on Android&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;android 可以替换自带词典，相同文件名覆盖即可，路径 &amp;#96;&amp;#96;内部存储\Android\data\com.amazon.kindlefc\files\B007Z8VKSQ\B007Z8VKSQ_EBOK.prc&amp;#96; ，文件名其实是词典的 ASIN，这本是默认的英汉词典，也可以替换 B00AZOHEGE  现代汉英词典，作为备用词典&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;6-辅助软件&#34;&gt;&lt;a href=&#34;#6-辅助软件&#34; class=&#34;headerlink&#34; title=&#34;6 辅助软件&#34;&gt;&lt;/a&gt;6 辅助软件&lt;/h1&gt;&lt;p&gt;软件在 windows 环境文件夹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;sdr-Cleaner 清理无用sdr&lt;/li&gt;
&lt;li&gt;Kindle Mate 笔记与生词管理&lt;/li&gt;
&lt;li&gt;calibre 电子书管理与格式转换&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;7-生词本&#34;&gt;&lt;a href=&#34;#7-生词本&#34; class=&#34;headerlink&#34; title=&#34;7 生词本&#34;&gt;&lt;/a&gt;7 生词本&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://bookfere.com/post/465.html&#34;&gt;Kindle 阅读器“生词本”功能详细使用说明&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;配合 kindlemate 背生词 &lt;a href=&#34;https://zhuanlan.zhihu.com/p/85959508&#34;&gt;欧路词典应用指南&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/2-3-5-7/2-3-5-7.github.io/tree/main/虚拟环境/2. 处理平台/kindle&#34;&gt;&lt;i class=&#34;fa-solid fa-download fa-2xl&#34; style=&#34;color: gray;&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://synrst.de/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/linux/</guid>
            <title>linux</title>
            <link>https://synrst.de/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/linux/</link>
            <pubDate>Thu, 01 Jan 1970 08:00:00 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;1-配置&#34;&gt;&lt;a href=&#34;#1-配置&#34; class=&#34;headerlink&#34; title=&#34;1 配置&#34;&gt;&lt;/a&gt;1 配置&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;必装 ssh proxychains4 git meld p4merge vim gtags ctags，github 导入公钥&lt;/li&gt;
&lt;li&gt;关闭该死的系统更新，非要更新前一定创建快照&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;1-1-SSH&#34;&gt;&lt;a href=&#34;#1-1-SSH&#34; class=&#34;headerlink&#34; title=&#34;1.1 SSH&#34;&gt;&lt;/a&gt;1.1 SSH&lt;/h2&gt;&lt;p&gt;&lt;code&gt;apt-get install openssh-server openssh-client&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如配置 VPS 修改 SSH 端口，则要在系统 iptables 和 vps 页面两处同时放行新端口，并用 nc -l 测试没问题后，再重启 sshd 服务。此时先别断开旧连接，防止出现新端口连不上的情况&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;1-1-1-解决-20-04-broken-package-问题&#34;&gt;&lt;a href=&#34;#1-1-1-解决-20-04-broken-package-问题&#34; class=&#34;headerlink&#34; title=&#34;1.1.1 解决 20.04 broken package 问题&#34;&gt;&lt;/a&gt;1.1.1 解决 20.04 broken package 问题&lt;/h3&gt;&lt;p&gt;参考 &lt;a href=&#34;https://ubuntuforums.org/showthread.php?t=2412211&#34;&gt;Problems with installing of the openssh-server&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 通过 aptitude 尝试解决&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo apt install aptitude&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo aptitude install PACKAGENAME&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;根据  aptitude 安装前的提示，发现是预安装的 openssh-client 版本高，apt purge openssl-client 卸载后安装 openssh-server 没问题。&lt;br&gt;也可以降级已安装的包，&lt;code&gt;sudo apt install &amp;lt;package-name&amp;gt;=&amp;lt;package-version-number&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;1-1-2-secureCRT-配置问题&#34;&gt;&lt;a href=&#34;#1-1-2-secureCRT-配置问题&#34; class=&#34;headerlink&#34; title=&#34;1.1.2 secureCRT 配置问题&#34;&gt;&lt;/a&gt;1.1.2 secureCRT 配置问题&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;关闭不用的菜单栏、状态栏等，去掉 use dockable session manager 选项，记住连接管理的快捷键即可&lt;/li&gt;
&lt;li&gt;编码与字体&lt;br&gt; 在Options -&amp;gt; Session Options -&amp;gt; Appearance 选项中将 Character encoding 设成”UTF-8”即可，字体 Consolas-with-Yahei，三号。没办法用没有 CJK 字符的字体&lt;/li&gt;
&lt;li&gt;启用颜色&lt;br&gt; 官方的介绍 &lt;a href=&#34;https://www.youtube.com/watch?v=SZLbBsp3914&#34;&gt;https://www.youtube.com/watch?v=SZLbBsp3914&lt;/a&gt;&lt;br&gt; 在 default session 中选 solarized dark，emulation 中启用 xterm-256color&lt;br&gt; 在全局配置中外观 - 高级，选中 solarized dark 新建一个颜色模式&lt;br&gt; 将 normal 和 bold 中前景色调亮，同时下拉列表选择 solarized dark，在 default session 中应用&lt;br&gt; 前景色 RGB 颜色 166,177,179&lt;br&gt; 详细参考视频 &lt;a href=&#34;http://www.youtube.com/watch?v=SZLbBsp3914&#34;&gt;www.youtube.com/watch?v=SZLbBsp3914&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;调整系统提示声音，将 默认响声 设置为 windows信息栏.wav&lt;/li&gt;
&lt;li&gt;安装 Xming，对于 ubuntu 的 session 中勾选 X11 forwarding 两个选项，默认配置即可&lt;/li&gt;
&lt;li&gt;&lt;ul&gt;
&lt;li&gt;Options–&amp;gt;Session Options–&amp;gt;Terminal 启用选择发送滚轮事件到远程。取消 Scroll to bottom on output&lt;ul&gt;
&lt;li&gt;Options–&amp;gt;Session Options–&amp;gt;Terminal–&amp;gt;Emulation–&amp;gt;Mapped Keys，选中 Backspace sends delete&lt;br&gt;  默认会话中终端&lt;/li&gt;
&lt;li&gt;Options–&amp;gt;Session Options–&amp;gt;Terminal–&amp;gt;Emulation–&amp;gt;Mode，取消 Enable keypad mode switching 小键盘映射&lt;/li&gt;
&lt;li&gt;Options–&amp;gt;Session Options–&amp;gt;Terminal–&amp;gt;Emulation–&amp;gt;Advanced，忽略窗口标题更改请求&lt;/li&gt;
&lt;li&gt;Options–&amp;gt;Edit Default Session 设置常用的按键映射，运行脚本 a-r、取消脚本 a-s、清屏 a-l (clear)、滚动到底部 a-b&lt;/li&gt;
&lt;li&gt;（可选）&lt;a href=&#34;https://forums.vandyke.com/showthread.php?p=42242&#34;&gt;添加键盘映射&lt;/a&gt;，HOME&amp;#x2F;END 为 &lt;code&gt;\033[H&lt;/code&gt; 和 &lt;code&gt;\033[F&lt;/code&gt;，原理见下 Terminal input sequences&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;1-1-3-隧道-端口转发&#34;&gt;&lt;a href=&#34;#1-1-3-隧道-端口转发&#34; class=&#34;headerlink&#34; title=&#34;1.1.3 隧道/端口转发&#34;&gt;&lt;/a&gt;1.1.3 隧道/端口转发&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;代理就是通过隧道帮助用户要访问某个受限资源&lt;/li&gt;
&lt;li&gt;隧道由本地和远端组成，本地作为 SSH 客户端连接远端 SSH 服务器端&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;mermaid&#34;&gt;graph LR
    subgraph 代理
    用户 -- 隧道 --&gt; 受限资源
    end
    subgraph 隧道
    L(&#34;本地 local，客户端&#34;) --&gt; R(&#34;远端 remote，服务器&#34;)
    end&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;按情况分为用户在隧道的本地和远端两种，常见三种 &lt;a href=&#34;https://wangdoc.com/ssh/port-forwarding.html&#34;&gt;转发方式&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;所谓用户就是要连接监听端口的设备&lt;ul&gt;
&lt;li&gt;所以对用户在本地 local 的，使用 -D 或 -L 打开本地端口，转发给 remote 侧的某资源。如资源为固定的 ip port 用 -L，动态的多个资源用 -D&lt;ul&gt;
&lt;li&gt;这种场景如科学上网，-D 打开本地的 sock5 监听端口，加密连到 vps，动态访问各个网站&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;对用户在远端 remote 的，用 -R 打开远端端口。同样可固定可动态，填 ip port 是固定，不填为动态&lt;ul&gt;
&lt;li&gt;这种场景如内网穿透，内网必须作为客户端主动连公网服务器端&lt;ul&gt;
&lt;li&gt;为了防止连接中断可 &lt;a href=&#34;https://cloud.tencent.com/developer/article/1722055&#34;&gt;写个脚本&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;但在公网服务器开端口暴露内网资源可能不安全（有的内网资源没有密码等），真要这样用还需配置 &lt;code&gt;GatewayPorts yes&lt;/code&gt;，否则只会在环回口监听&lt;/li&gt;
&lt;li&gt;所以为了安全，即 1. 要有授权的客户端才能连服务端口 2. 保证用户到服务端口之间数据的安全性（socks 协议不加密）。在先用 -R 开启环回口（动态方式）后，再在用户侧用 -L 练到公网服务器，见 &lt;a href=&#34;https://o-u-u.com/?p=3234#%E9%93%BE%E5%BC%8F%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91&#34;&gt;链式端口转发&lt;/a&gt; (文中为固定转发给 3000 端口，可改为动态)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;图中的 4 个角色（资源、用户、local、remote）可重合，即特殊情况&lt;ul&gt;
&lt;li&gt;local 和 remote 为同一台设备，如将这台设备用作 socks 代理服务器 &lt;code&gt;ssh -D port localhost&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;用户与 local &amp;#x2F; remote 为同一设备，资源与 local &amp;#x2F; remote 为同一设备的情况&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;如要只将 ssh 用作隧道，限制用户登陆，可以 &lt;a href=&#34;https://unix.stackexchange.com/questions/14312/how-to-restrict-an-ssh-user-to-only-allow-ssh-tunneling&#34;&gt;修改用户的 shell&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;对 windows 可用配置好连接信息的绿色版 putty 来当作 vpn 客户端的功能&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;mermaid&#34;&gt;graph LR
    subgraph 用户在本地一侧 -L/-D
    s1(用户) --&gt; s2(local) --&gt; s3(remote) --&gt; s4(受限资源)
    end
    subgraph 用户在远端一侧 -R
    s5(受限资源) --&gt; s6(local) --&gt; s7(remote) --&gt; s8(用户)
    end
    subgraph 特殊情况
    s9(&#34;local 与 remote 重合，ssh -D port localhost&#34;)
    s10(&#34;用户/受限资源 与 local/remote 重合&#34;)
    end
    subgraph 内网穿透
    s11(受限资源) --&gt; s12(local) -- -R动态方式 --&gt; s13(remote) -- -L连接到-R的动态端口 --&gt; s14(用户)
    end&lt;/pre&gt;

&lt;h3 id=&#34;1-1-4-DNS-介绍&#34;&gt;&lt;a href=&#34;#1-1-4-DNS-介绍&#34; class=&#34;headerlink&#34; title=&#34;1.1.4 DNS 介绍&#34;&gt;&lt;/a&gt;1.1.4 DNS 介绍&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://lantian.pub/article/modify-website/selfhost-dns-root-server.lantian/&#34;&gt;DNS 原理和自建 DNS 根服务器&lt;/a&gt;、&lt;a href=&#34;https://juejin.cn/post/6844903497494855687&#34;&gt;另一个参考&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;1-2-系统&#34;&gt;&lt;a href=&#34;#1-2-系统&#34; class=&#34;headerlink&#34; title=&#34;1.2 系统&#34;&gt;&lt;/a&gt;1.2 系统&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;设置 PS1 &lt;code&gt;export PS1=&amp;quot;\[\e[35;22m\][\! \A \w] \[\e[0m\]&amp;quot;&lt;/code&gt;，如要改变标题则继续加一句，&lt;code&gt;PS1=&amp;quot;\[\e]0;20.04: \W\a\]$PS1&amp;quot;&lt;/code&gt; ，把 20.04 改成想要的名字&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ls 颜色 &lt;a href=&#34;https://github.com/seebi/dircolors-solarized&#34;&gt;https://github.com/seebi/dircolors-solarized&lt;/a&gt;&lt;br&gt;  .bashrc 中添加 eval &lt;code&gt;dircolors ~/dircolors-solarized/dircolors.256dark&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;给 man 命令启用颜色，~&amp;#x2F;.bashrc 添加如下&lt;/p&gt;
  &lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;title&#34;&gt;man&lt;/span&gt;&lt;/span&gt;() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &lt;span class=&#34;built_in&#34;&gt;env&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; LESS_TERMCAP_mb=$(&lt;span class=&#34;built_in&#34;&gt;printf&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;\e[1;31m&amp;quot;&lt;/span&gt;) \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; LESS_TERMCAP_md=$(&lt;span class=&#34;built_in&#34;&gt;printf&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;\e[1;31m&amp;quot;&lt;/span&gt;) \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; LESS_TERMCAP_me=$(&lt;span class=&#34;built_in&#34;&gt;printf&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;\e[0m&amp;quot;&lt;/span&gt;) \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; LESS_TERMCAP_se=$(&lt;span class=&#34;built_in&#34;&gt;printf&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;\e[0m&amp;quot;&lt;/span&gt;) \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; LESS_TERMCAP_so=$(&lt;span class=&#34;built_in&#34;&gt;printf&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;\e[1;44;33m&amp;quot;&lt;/span&gt;) \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; LESS_TERMCAP_ue=$(&lt;span class=&#34;built_in&#34;&gt;printf&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;\e[0m&amp;quot;&lt;/span&gt;) \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; LESS_TERMCAP_us=$(&lt;span class=&#34;built_in&#34;&gt;printf&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;\e[1;32m&amp;quot;&lt;/span&gt;) \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; man &lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;variable&#34;&gt;$@&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;修改时区&lt;/p&gt;
  &lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo &lt;span class=&#34;built_in&#34;&gt;unlink&lt;/span&gt; /etc/localtime&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo &lt;span class=&#34;built_in&#34;&gt;ln&lt;/span&gt; -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;1-2-1-Kali&#34;&gt;&lt;a href=&#34;#1-2-1-Kali&#34; class=&#34;headerlink&#34; title=&#34;1.2.1 Kali&#34;&gt;&lt;/a&gt;1.2.1 Kali&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=a6z-ixNAo-s&#34;&gt;How to move taskbar from top to bottom in kali linux&lt;/a&gt;  Settings Editor -&amp;gt; xfce4-panel -&amp;gt; panels&amp;#x2F;panel-1&amp;#x2F;position 的 6 改成 4，下面的 size 可扩大，以让图标更大&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;1-3-网络&#34;&gt;&lt;a href=&#34;#1-3-网络&#34; class=&#34;headerlink&#34; title=&#34;1.3 网络&#34;&gt;&lt;/a&gt;1.3 网络&lt;/h2&gt;&lt;p&gt;思路是用无线网卡使 PC、虚拟机、无线路由器处于同一网络中，可以上网。用有线网卡使 PC、虚拟机、开发板处于另一网络中。&lt;/p&gt;
&lt;p&gt;要点，配置网关的网卡将作为上网网卡，旧网卡（无线网卡）用来上网，所以只有旧网卡有网关&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://linuxize.com/post/how-to-configure-static-ip-address-on-ubuntu-18-04/&#34;&gt;18.04_20.04 用 netplan&lt;/a&gt;，配置文件示例见 asset，命令 &lt;code&gt;sudo netplan --debug apply&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;interfaces 和 NetworkManger 即配置文件与图形界面两种方法不能同时使用，对于 &lt;code&gt;/etc/network/interfaces&lt;/code&gt; 配置文件如下&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;auto eth0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;iface eth0 inet static&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;address 192.168.2.36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;netmask 255.255.255.0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;gateway 192.168.2.1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;auto eth1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;iface eth1 inet static&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;address 192.168.1.36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;netmask 255.255.255.0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# dhcp方式&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# auto eth0  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# iface eth0 inet dhcp&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;code&gt;/etc/resolvconf/resolv.conf.d/base&lt;/code&gt; 配置 dns，没有则新建。&lt;code&gt;sudo resolvconf -u 立即生效&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;nameserver 114.114.114.114&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;nameserver 8.8.8.8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;1-4-内部局域网&#34;&gt;&lt;a href=&#34;#1-4-内部局域网&#34; class=&#34;headerlink&#34; title=&#34;1.4 内部局域网&#34;&gt;&lt;/a&gt;1.4 内部局域网&lt;/h2&gt;&lt;p&gt;为了搭建封闭的局域网，可以在 windows 中 &lt;a href=&#34;https://blog.csdn.net/EDDJH_31/article/details/82694205&#34;&gt;添加 KM-TEST 虚拟网卡&lt;/a&gt;，所有虚拟机桥接到该网卡，实现虚拟机间和主机与虚拟机的通信&lt;/p&gt;
&lt;h3 id=&#34;1-4-1-代理&#34;&gt;&lt;a href=&#34;#1-4-1-代理&#34; class=&#34;headerlink&#34; title=&#34;1.4.1 代理&#34;&gt;&lt;/a&gt;1.4.1 代理&lt;/h3&gt;&lt;p&gt; proxychains4，适用于所有包管理系统和 git&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;SSR 选择允许局域网&lt;/li&gt;
&lt;li&gt;apt 安装 proxychains4&lt;/li&gt;
&lt;li&gt;配置&lt;ul&gt;
&lt;li&gt;配置文件在 &lt;code&gt;/etc/proxychains.conf&lt;/code&gt; 或 &lt;code&gt;proxychains4.conf&lt;/code&gt;，改成 &lt;code&gt;socks5  192.168.7.36 17890&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;设置 DNS 文件在 &lt;code&gt;/usr/lib/proxychains3/proxyresolv&lt;/code&gt;，修改 &lt;code&gt;DNS_SERVER=8.8.8.8&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;注意配置文件代理地址设置成 host 的 IP 192.168.2.29，不是 127.0.0.1&lt;/li&gt;
&lt;li&gt;tsocks 不那么好用，先不考虑&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;1-4-2-软件源&#34;&gt;&lt;a href=&#34;#1-4-2-软件源&#34; class=&#34;headerlink&#34; title=&#34;1.4.2 软件源&#34;&gt;&lt;/a&gt;1.4.2 软件源&lt;/h3&gt;&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/xiangxianghehe/article/details/80112149&#34;&gt;中科大&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;1-5-sshfs-win&#34;&gt;&lt;a href=&#34;#1-5-sshfs-win&#34; class=&#34;headerlink&#34; title=&#34;1.5 sshfs-win&#34;&gt;&lt;/a&gt;1.5 sshfs-win&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;先装 winfsp (Cryptomator 也装了 winfsp)，然后装 &lt;a href=&#34;https://github.com/billziss-gh/sshfs-win&#34;&gt;sshfs&lt;/a&gt; 64位&lt;/li&gt;
&lt;li&gt;计算机上右键 &lt;code&gt;映射网络驱动器&lt;/code&gt;，不要选 &lt;code&gt;添加网络位置&lt;/code&gt;，勾选 &lt;code&gt;登陆重连&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;mount home 的情况，&lt;code&gt;\\sshfs\compilers@192.168.36.3&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;mount 其它目录的情况，&lt;code&gt;\\sshfs.r\compilers@192.168.36.3\usr\class\cs143\cool&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;使用 key 和代理的情况&lt;ul&gt;
&lt;li&gt;配置文件 C:\Users\用户.ssh\config&lt;/li&gt;
&lt;li&gt;IdentityFile 指定私钥路径&lt;/li&gt;
&lt;li&gt;ProxyCommand 指定代理，这里用 &lt;a href=&#34;https://nmap.org/download.html&#34;&gt;nmap 附带的 ncat&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ProxyCommand D:/soft/Nmap/ncat.exe --proxy 127.0.0.1:17890 --proxy-type socks5 %h %p&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://superuser.com/questions/714845/tunneling-ssh-via-a-socks5-proxy-on-windows&#34;&gt;参考&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;打开 cmd （非管理员权限），&lt;code&gt;sshfs-win.exe svc \sshfs.k\ubuntu@主机!端口 v: -d -o LogLevel=DEBUG3&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;映射为 v:&lt;/li&gt;
&lt;li&gt;调试信息 -d -o LogLevel&amp;#x3D;DEBUG3&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;但因为 ProxyCommand 依赖 sh，参考 &lt;a href=&#34;https://github.com/winfsp/sshfs-win/issues/152&#34;&gt;这里&lt;/a&gt; 的方法，下载 busybox 并改名为 sh.exe，可避免装 Cygwin。同时 ProxyCommand 也要改成能识别的斜杠 &amp;#x2F;&lt;/li&gt;
&lt;li&gt;如直接映射驱动器 \sshfs.k\ubuntu@IP!端口（而非 sshfs-win.exe 命令），则不会使用 config 文件，此时 key 只能放在 C:\Users\用户.ssh 下&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;1-6-samba、tftp、nfs&#34;&gt;&lt;a href=&#34;#1-6-samba、tftp、nfs&#34; class=&#34;headerlink&#34; title=&#34;1.6 samba、tftp、nfs&#34;&gt;&lt;/a&gt;1.6 samba、tftp、nfs&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;linux samba 3.6.0 开始支持 SMB2，之前的版本需要在 Windows 控制面板启用 SMB1.0 客户端，用命令 &lt;code&gt;sudo smbstatus&lt;/code&gt; 查看软件和协议版本&lt;ul&gt;
&lt;li&gt;即可以在控制面板启用，也可以 powershell 管理员运行 &lt;code&gt;Enable-WindowsOptionalFeature -Online -FeatureName &amp;quot;SMB1Protocol-Client&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;samba 可能不稳定，重启 Windows 后会无法连接。要重新敲上面的 enable 命令后再重启宿主机和虚拟机才能连上，可把上面命令保存成脚本并 &lt;a href=&#34;https://superuser.com/questions/108207/how-to-run-a-powershell-script-as-administrator&#34;&gt;管理员运行&lt;/a&gt;方便后续使用&lt;/li&gt;
&lt;li&gt;对于 virtualbox 虚拟机导出给 vmvare 使用时，遇到 virtualbox 服务找不到无法启动图形界面时，进命令行卸载 virtualbox 服务，&lt;code&gt;cd /etc/init.d&lt;/code&gt; 、&lt;code&gt;sudo ./vboxadd cleanup&lt;/code&gt;、&lt;code&gt;sudo ./vboxadd-x11 cleanup&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;samba 不稳定也可考虑用 ssh 映射替代，见 [sshfs-win](## 1.5 sshfs-win)&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 安装&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 20.04 同样出现 broken package 问题，先卸载高版本的依赖 sudo apt purge libwbclient0 samba-libs，再安装&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;apt-get install samba samba-common&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 备份配置文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;cp&lt;/span&gt; /etc/samba/smb.conf /etc/samba/smb.conf.bak&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 修改smb.conf。添加一个共享定义，share 表示windows连接到的文件夹名为 \\ip\share&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# create mask = 0644 避免添加执行权限&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[share]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		comment = samba home share&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		path = /home/zack&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		browseable = &lt;span class=&#34;built_in&#34;&gt;yes&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		&lt;span class=&#34;built_in&#34;&gt;read&lt;/span&gt; only = no&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		create mask = 0644&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		directory mask = 0777&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 添加用户&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo smbpasswd -a zack&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 重启服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo service smbd restart&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#安装&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;apt-get install tftp-hpa tftpd-hpa xinetd&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#设置目录&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;vi /etc/default/tftpd-hpa&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#启动服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;service tftpd-hpa restart&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#测试&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;tftp 127.0.0.1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;tftp&amp;gt; get hello&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;tftp&amp;gt; quit&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 检查nfs服务是否安装。没有则 sudo apt-get install nfs-kernel-server&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;service nfs-kernel-server&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;tar xvf  rootfs.tar.xz &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo &lt;span class=&#34;built_in&#34;&gt;chmod&lt;/span&gt; 777 rootfs	  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 重启nfs服务(使得前面修改生效)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo /etc/init.d/nfs-kernel-server restart&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 测试nfs服务是否安装成功&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo mount -t nfs localhost:/nfs/rootfs/  /mnt/&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 如果其中的内容和/nfs/rootfs中一致。 表示有挂载成功&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;ls&lt;/span&gt; /mnt/&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo umount /mnt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;1-7-ftp&#34;&gt;&lt;a href=&#34;#1-7-ftp&#34; class=&#34;headerlink&#34; title=&#34;1.7 ftp&#34;&gt;&lt;/a&gt;1.7 ftp&lt;/h2&gt;&lt;p&gt;更多安全相关的配置见 &lt;a href=&#34;https://www.digitalocean.com/community/tutorials/how-to-set-up-vsftpd-for-a-user-s-directory-on-ubuntu-16-04&#34;&gt;vsftp 配置&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo &lt;span class=&#34;built_in&#34;&gt;cp&lt;/span&gt; /etc/vsftpd.conf /etc/vsftpd.conf.orig&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# Allow anonymous FTP? (Disabled by default).&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;anonymous_enable=NO&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# Uncomment this to allow local users to log in.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;local_enable=YES&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 可上传&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;write_enable=YES&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 用户列表&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;userlist_enable=YES&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;userlist_file=/etc/vsftpd.userlist&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;userlist_deny=NO&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 在这里添加可登录的用户，系统的用户名和密码&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;/etc/vsftpd.userlist&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;1-8-编译工具&#34;&gt;&lt;a href=&#34;#1-8-编译工具&#34; class=&#34;headerlink&#34; title=&#34;1.8 编译工具&#34;&gt;&lt;/a&gt;1.8 编译工具&lt;/h2&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 20.04 同样有 broken package 问题，要降级安装 libc&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo apt install build-essential python3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 安装最新 cmake，参考 https://askubuntu.com/questions/355565/how-do-i-install-the-latest-version-of-cmake-from-the-command-line&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;wget -O - https://apt.kitware.com/keys/kitware-archive-latest.asc 2&amp;gt;/dev/null | gpg --dearmor - | sudo &lt;span class=&#34;built_in&#34;&gt;tee&lt;/span&gt; /etc/apt/trusted.gpg.d/kitware.gpg &amp;gt;/dev/null&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo apt-add-repository &lt;span class=&#34;string&#34;&gt;&amp;#x27;deb https://apt.kitware.com/ubuntu/ focal main&amp;#x27;&lt;/span&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo apt update&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo apt install cmake&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;1-9-chrome&#34;&gt;&lt;a href=&#34;#1-9-chrome&#34; class=&#34;headerlink&#34; title=&#34;1.9 chrome&#34;&gt;&lt;/a&gt;1.9 chrome&lt;/h2&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 装 chrome&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;yum localinstall google-chrome-stable_current_x86_64.rpm&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# chromedriver，下载 linux64 版本&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;https://chromedriver.chromium.org/downloadsba&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;1-10-vps&#34;&gt;&lt;a href=&#34;#1-10-vps&#34; class=&#34;headerlink&#34; title=&#34;1.10 vps&#34;&gt;&lt;/a&gt;1.10 vps&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;改端口号&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;sudo passwd 设置密码，为了以后 VNC 抢救时可以登陆设备&lt;/li&gt;
&lt;li&gt;备份防火墙 &lt;code&gt;sudo iptables-save &amp;gt;fire.backup&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;添加 ssh 端口号，&lt;code&gt;iptables -I INPUT 1 -p tcp --dport xxxx -j ACCEPT&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;nc 测试新端口能被连接&lt;/li&gt;
&lt;li&gt;修改 &lt;code&gt;sudo vi /etc/ssh/sshd_config&lt;/code&gt; 的 Port&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sudo systemctl restart sshd&lt;/code&gt;，先不关闭旧连接，测试新端口是否生效&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;改防火墙&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;事先备份  &lt;code&gt;sudo iptables-save &amp;gt;fire.backup&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;删除无用项，或还原改后配置 &lt;code&gt;sudo iptables-restore fire.now&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;永久保存，避免重启后失效，&lt;code&gt;sudo netfilter-persistent save&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;重启测试 &lt;code&gt;sudo reboot&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;修改 PS1 和时区&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;备份还原&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;对 X86，可创建 5 个备份，需要还原时，先删机，等完全终止后，利用之前的引导卷新建机器&lt;/li&gt;
&lt;li&gt;对 ARM，因通常很难创建，使用 dd 备份还原&lt;ol&gt;
&lt;li&gt;停止实例，分离引导卷&lt;/li&gt;
&lt;li&gt;附加到另一实例的块存储卷，并用命令（iSCSI 命令和信息）连接&lt;/li&gt;
&lt;li&gt;sudo fdisk -l 查看为 &amp;#x2F;sdb 硬盘，备份或还原&lt;ul&gt;
&lt;li&gt;备份 &lt;code&gt;sudo nohup bash -c &amp;quot;dd if=/dev/sdb conv=sync,noerror bs=64M status=progress | gzip -c &amp;gt;backup.gz&amp;quot; &amp;amp;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;还原 &lt;code&gt;sudo nohup bash -c &amp;quot;gunzip -c backup.gz | dd of=/dev/sdb bs=64M status=progress&amp;quot; &amp;amp;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;查看进度 &lt;code&gt;sudo tail -f nohup.out&lt;/code&gt;，ubuntu 20.04 原始备份时间 35min 大小 650M，还原时间相同，dd 的 bs 越大越好&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;附加引导卷，启动实例&lt;/li&gt;
&lt;li&gt;用命令（iSCSI 命令和信息）断开连接，并分离&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;为优化资源占用，多使用 &lt;a href=&#34;https://www.howtogeek.com/668986/how-to-use-the-linux-top-command-and-understand-its-output/&#34;&gt;top 命令&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://apttutorials.com/how-to-fix-snapd-process-consuming-lot-of-data-and-cpu/&#34;&gt;卸载 snap&lt;/a&gt;，防止 CPU 占用高，&lt;code&gt;sudo systemctl stop snapd&lt;/code&gt;,  &lt;code&gt;sudo apt purge snapd&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;关闭甲骨文日志 &lt;code&gt;systemctl stop unified-monitoring-agent&lt;/code&gt;，&lt;code&gt;systemctl disable unified-monitoring-agent&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://www.zhouchunyu.com/400.html&#34;&gt;甲骨文开启 IPv6&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;关闭 fwupd &lt;code&gt;sudo systemctl stop fwupd&lt;/code&gt;， &lt;code&gt;sudo systemctl disable fwupd&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://askubuntu.com/questions/1233025/how-to-remove-gnome-shell-from-ubuntu-20-04-lts-to-install-other-desktop-environ&#34;&gt;卸载 gnome&lt;/a&gt;，然后重启&lt;/p&gt;
  &lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo apt update&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo apt purge adwaita-icon-theme gedit-common gir1.2-gdm-1.0 \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;gir1.2-gnomebluetooth-1.0 gir1.2-gnomedesktop-3.0 gir1.2-goa-1.0 \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;gnome-accessibility-themes gnome-bluetooth gnome-calculator gnome-calendar \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;gnome-characters gnome-control-center gnome-control-center-data \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;gnome-control-center-faces gnome-desktop3-data \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;gnome-font-viewer \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;gnome-initial-setup gnome-keyring gnome-keyring-pkcs11 gnome-logs \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;gnome-mahjongg gnome-menus gnome-mines gnome-online-accounts \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;gnome-power-manager gnome-screenshot gnome-session-bin gnome-session-canberra \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;gnome-session-common gnome-settings-daemon gnome-settings-daemon-common \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;gnome-shell gnome-shell-common gnome-shell-extension-appindicator \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;gnome-shell-extension-desktop-icons gnome-shell-extension-ubuntu-dock \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;gnome-startup-applications gnome-sudoku gnome-system-monitor gnome-terminal \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;gnome-terminal-data gnome-themes-extra gnome-themes-extra-data gnome-todo \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;gnome-todo-common gnome-user-docs gnome-user-docs-ru gnome-video-effects \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;language-pack-gnome-en language-pack-gnome-en-base language-pack-gnome-ru \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;language-pack-gnome-ru-base language-selector-gnome libgail18 libgail18 \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;libgail-common libgail-common libgnome-autoar-0-0 libgnome-bluetooth13 \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;libgnome-desktop-3-19 libgnome-games-support-1-3 libgnome-games-support-common \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;libgnomekbd8 libgnomekbd-common libgnome-menu-3-0 libgnome-todo libgoa-1.0-0b \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;libgoa-1.0-common libpam-gnome-keyring libsoup-gnome2.4-1 libsoup-gnome2.4-1 \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;nautilus-extension-gnome-terminal pinentry-gnome3 yaru-theme-gnome-shell&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo apt purge gnome-getting-started-docs gnome-getting-started-docs-ru&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;acme.sh 申请证书&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Google domain，&lt;a href=&#34;https://www.reddit.com/r/sysadmin/comments/13dibxb/googleissued_https_certificates_with_acme_dns_api/&#34;&gt;参考&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Google Ca&lt;ul&gt;
&lt;li&gt;&lt;code&gt;acme.sh --set-default-ca --server google&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;页面获得 eab-kid eab-hmac-key&lt;/li&gt;
&lt;li&gt;&lt;code&gt;acme.sh --register-account&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;letsencrypt CA，&lt;code&gt;acme.sh --set-default-ca --server letsencrypt&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;页面获得 API-Token，export GOOGLEDOMAINS_ACCESS_TOKEN&amp;#x3D;”获得的 token”&lt;/li&gt;
&lt;li&gt;&lt;code&gt;acme.sh --issue --dns dns_googledomains -d synrst.de -d *.synrst.de -k ec-384&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;安装 &lt;code&gt;acme.sh --install-cert -d synrst.de -d *.synrst.de --ecc --key-file /etc/XXX/server.key --fullchain-file /etc/XXX/server.crt --reloadcmd &amp;quot;systemctl force-reload nginx&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;其它命令，&lt;a href=&#34;https://github.com/acmesh-official/acme.sh&#34;&gt;官方文档&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;删除证书 &lt;code&gt;acme.sh --remove -d synrst.de -d *.synrst.de&lt;/code&gt;，之后按提示删除文件夹（正常还应该 revoke）&lt;/li&gt;
&lt;li&gt;强制 renew &lt;code&gt;acme.sh --renew -d synrst.de -d *.synrst.de --force --ecc&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;查看证书 &lt;code&gt;openssl x509 -text -noout -in xxx.cer&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;查看 &lt;code&gt;acme.sh --list&lt;/code&gt;，&lt;code&gt;crontab -l&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;科学上网加速&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;BBR Plus 加速，&lt;a href=&#34;https://www.youtube.com/watch?v=90xDssO7qIE&#34;&gt;区别对比&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;CDN 加速&lt;ul&gt;
&lt;li&gt;v2ray 域名 -&amp;gt; cdn -&amp;gt; vps ip&lt;ul&gt;
&lt;li&gt;在域名上配置&lt;ul&gt;
&lt;li&gt;NS 接入：nameserver 配置成 cloudfare&lt;/li&gt;
&lt;li&gt;CNAME&amp;#x2F;IP 接入：v2ray 域名 -&amp;gt; cdn ip&amp;#x2F;域名，域名则添加 CNAME，IP 则添加 A 记录。这是为了配合 DNSPod 不同城市线路用不同的 CDN IP，&lt;a href=&#34;https://www.moeelf.com/archives/10.html&#34;&gt;例子&lt;/a&gt;，感觉是给机场接入用的，个人 NS 接入即可，&lt;a href=&#34;https://www.youtube.com/watch?v=80rBGZWYlxw&#34;&gt;例子&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;在 CDN 配置 ：v2ray 域名 -&amp;gt; vps ip（回源地址）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;1-11-screen&#34;&gt;&lt;a href=&#34;#1-11-screen&#34; class=&#34;headerlink&#34; title=&#34;1.11 screen&#34;&gt;&lt;/a&gt;1.11 screen&lt;/h2&gt;&lt;p&gt;&lt;a id=&#34;xa7o&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;.screenrc 文件，参考 &lt;a href=&#34;https://linuxize.com/post/how-to-use-linux-screen/&#34;&gt;How To Use Linux Screen&lt;/a&gt; 和 &lt;a href=&#34;https://www.gnu.org/software/screen/manual/screen.html&#34;&gt;Screen User’s Manual&lt;/a&gt;  &lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;startup_message off&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# Disable visual bell&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# vbell off&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# Set scrollback buffer to 10000&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;defscrollback 10000&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# https://superuser.com/questions/506080/screen-divider-border-width-and-color&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;caption string &amp;quot;%&amp;#123;= dd&amp;#125; &amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;rendition so &amp;quot;=&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# https://stackoverflow.com/questions/359109/using-the-scrollwheel-in-gnu-screen&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;termcapinfo xterm* ti@:te@&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# 内存部分参考 https://stackoverflow.com/questions/18439129/system-loads-in-gnu-screens-hardstatus-line&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;hardstatus alwayslastline&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# backtick 1 1 1 /bin/bash -c &amp;#x27;free | grep Mem | awk &amp;#x27;\&amp;#x27;&amp;#x27;&amp;#123;printf(&amp;quot;%.1f%%&amp;quot;, $3/$2 * 100.0)&amp;#125;&amp;#x27;\&amp;#x27;&amp;#x27; &amp;#x27;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;backtick 1 1 1 /bin/bash -c &amp;#x27;free | grep Mem | awk &amp;#x27;\&amp;#x27;&amp;#x27;&amp;#123;printf(&amp;quot;%.1f%%&amp;quot;, 100 - $7/$2 * 100.0)&amp;#125;&amp;#x27;\&amp;#x27;&amp;#x27; &amp;#x27;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;hardstatus string &amp;quot;%&amp;#123;= KG&amp;#125; %-Lw%&amp;#123;= bW&amp;#125;%n%f %t%&amp;#123;-&amp;#125;%+Lw %=%&amp;#123;= Kg&amp;#125;| %c %&amp;#123;-&amp;#125;%l %1`&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# 给 Windows terminal 用的浅色主题 AtomOneLight https://windowsterminalthemes.dev/&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# hardstatus string &amp;quot;%&amp;#123;= wG&amp;#125; %-Lw%&amp;#123;= bW&amp;#125;%n%f %t%&amp;#123;-&amp;#125;%+Lw %=%&amp;#123;= wg&amp;#125;| %c %&amp;#123;-&amp;#125;%l %1`&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# focus ctrl+a tab，other ctrl+a ctrl+a&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# 推荐在左侧标签按键，这样右侧标签分到屏幕右侧，按键焦点留在左侧&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;bind v eval &amp;quot;split -v&amp;quot; focus other focus&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# 这个配置焦点在右侧&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# bind v eval &amp;quot;split -v&amp;quot; focus other&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;bind x remove&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;screen 状态栏显示正在执行的命令或当前路径，&lt;a href=&#34;https://unix.stackexchange.com/questions/28430/screen-status-bar-to-display-current-directory-for-zsh-bash-shell&#34;&gt;参考&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;bash&lt;ul&gt;
&lt;li&gt;.screenrc 文件  &lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;# shelltitle | 前面的 ] 表示提示符结尾&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;shelltitle &amp;#x27;]|bash&amp;#x27;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;.bashrc 文件  &lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; [[ &lt;span class=&#34;variable&#34;&gt;$TERM&lt;/span&gt; == screen* ]]; &lt;span class=&#34;keyword&#34;&gt;then&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	PROMPT_COMMAND=&lt;span class=&#34;string&#34;&gt;&amp;#x27;echo -ne &amp;quot;\033k\033\0134\033k[`basename $&amp;#123;PWD&amp;#125;`]\033\0134&amp;quot;&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;fi&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;zsh，&lt;a href=&#34;https://unix.stackexchange.com/questions/28430/screen-status-bar-to-display-current-directory-for-zsh-bash-shell&#34;&gt;参考1&lt;/a&gt;、&lt;a href=&#34;https://stackoverflow.com/questions/45288905/zsh-mystery-variable-expansion&#34;&gt;参考2&lt;/a&gt;  &lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;setopt extendedglob&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;if [[ $TERM == screen* ]]; then&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	precmd () &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	        local dir=$(print -Pn &amp;quot;%c&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	        print -Pn &amp;quot;\ek$dir\e\\&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	preexec () &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	        local dir=$(print -Pn &amp;quot;%c&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	        # 截短是为了留空间显示 CMD&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	        dir=$dir[1,6]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	        local CMD=$&amp;#123;1[(wr)^(sudo|*=*|-*)]&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	        print -Pn &amp;quot;\ek$dir] $&amp;#123;CMD&amp;#125;\e\\&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;fi&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;相关手册&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://zsh.sourceforge.io/Doc/Release/Prompt-Expansion.html#Prompt-Expansion&#34;&gt;%c&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://zsh.sourceforge.io/Doc/Release/Expansion.html#Filename-Generation&#34;&gt; ^(&lt;em&gt;&amp;#x3D;&lt;/em&gt;|sudo|-*)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://zsh.sourceforge.io/Doc/Release/Parameters.html&#34;&gt;[wr] 的含义 Subscript Flags&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;常用按键&amp;#x2F;命令&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;常用按键&amp;#x2F;命令&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;screen&lt;/td&gt;
&lt;td&gt;创建&lt;br /&gt;启动后 SecureCRT 要调整一下窗口&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;screen -ls&lt;/td&gt;
&lt;td&gt;查看&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ctrl + a d&lt;/td&gt;
&lt;td&gt;detach&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;screen -x&lt;/td&gt;
&lt;td&gt;Attach to a session which is already attached&lt;br /&gt;与 -r 相比推荐这种，可加到 .bashrc 实现登录就在 screen 中&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;screen -r&lt;/td&gt;
&lt;td&gt;attach&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ctrl + a c&lt;/td&gt;
&lt;td&gt;create 窗口&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ctrl + a k&lt;/td&gt;
&lt;td&gt;kill 窗口&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ctrl + a 数字&lt;/td&gt;
&lt;td&gt;切换到该窗口&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ctrl + a ctrl + a&lt;/td&gt;
&lt;td&gt;切换到刚刚的窗口&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ctrl + a p&amp;#x2F;n&lt;/td&gt;
&lt;td&gt;切换到前一个、后一个窗口&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ctrl + a :number 数字&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://serverfault.com/questions/244294/how-to-re-order-windows-change-the-scroll-shortcut-and-modify-the-status-bar-c&#34;&gt;重命名窗口&lt;/a&gt;以调整窗口在下方的显示顺序&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;上面的自定义按键&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ctrl + a v&lt;/td&gt;
&lt;td&gt;分 region&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ctrl + a x&lt;/td&gt;
&lt;td&gt;关 region&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ctrl + a tab&lt;/td&gt;
&lt;td&gt;切 region&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;h1 id=&#34;2-使用&#34;&gt;&lt;a href=&#34;#2-使用&#34; class=&#34;headerlink&#34; title=&#34;2 使用&#34;&gt;&lt;/a&gt;2 使用&lt;/h1&gt;&lt;p&gt;软件问题见 &lt;a href=&#34;/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/linux/../linux%E8%BD%AF%E4%BB%B6%E7%BC%96%E8%AF%91%E3%80%81%E5%AE%89%E8%A3%85%E3%80%81%E8%BF%90%E8%A1%8C/&#34;&gt;linux软件编译、安装、运行&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;2-1-基础&#34;&gt;&lt;a href=&#34;#2-1-基础&#34; class=&#34;headerlink&#34; title=&#34;2.1 基础&#34;&gt;&lt;/a&gt;2.1 基础&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://linuxtools-rst.readthedocs.io/zh_CN/latest/&#34;&gt;Linux工具快速教程&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-1-1-修改-linux-用户名&#34;&gt;&lt;a href=&#34;#2-1-1-修改-linux-用户名&#34; class=&#34;headerlink&#34; title=&#34;2.1.1 修改 linux 用户名&#34;&gt;&lt;/a&gt;2.1.1 修改 linux 用户名&lt;/h3&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 退出所有登录（包括 SSH）&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# Ctrl+Alt+F2 以 root 登录&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 修改用户名&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;usermod -c “Full name real” -l new_name old_name&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 修改 home&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;usermod -d /home/newHomeDir -m newUsername&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;2-1-2-bash&#34;&gt;&lt;a href=&#34;#2-1-2-bash&#34; class=&#34;headerlink&#34; title=&#34;2.1.2 bash&#34;&gt;&lt;/a&gt;2.1.2 bash&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://skorks.com/2009/09/bash-shortcuts-for-maximum-productivity/&#34;&gt;快捷键&lt;/a&gt;&lt;/p&gt;
  &lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;Ctrl + r – search the history backwards&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Ctrl + g – escape from history searching mode&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;CTRL + A = the beginning of the line&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;CTRL + E = the end of the line&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ALT  + B = move backward one word &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ALT  + F = move forward one word&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;/* 所有的 ALT 可换成 ESC */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Ctrl + U = Delete left of the cursor&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Ctrl + K = Delete right of the cursor&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Ctrl + W = Delete word on the left&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ALT  + D = Delete word on the right&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Ctrl + Y = Paste&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/ANSI_escape_code&#34;&gt;Terminal input sequences&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-1-3-zsh&#34;&gt;&lt;a href=&#34;#2-1-3-zsh&#34; class=&#34;headerlink&#34; title=&#34;2.1.3 zsh&#34;&gt;&lt;/a&gt;2.1.3 zsh&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;粘贴 kali .zshrc&lt;/li&gt;
&lt;li&gt;命令提示 &lt;code&gt;sudo apt install zsh-autosuggestions&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;参考配置 &lt;a href=&#34;/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/linux/#xa7o&#34;&gt;screen&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-1-4-脚本&#34;&gt;&lt;a href=&#34;#2-1-4-脚本&#34; class=&#34;headerlink&#34; title=&#34;2.1.4 脚本&#34;&gt;&lt;/a&gt;2.1.4 脚本&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;shell 脚本调试&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;-------- bash ---------&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;export&lt;/span&gt; SHELLOPTS&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 还可配合 FUNCNAME 实现调用栈打印&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;export&lt;/span&gt; PS4=&lt;span class=&#34;string&#34;&gt;&amp;#x27;[$&amp;#123;BASH_SOURCE[0]&amp;#125;-$LINENO] &amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 可考虑去掉 eu&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; -eux&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 确认&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; -o&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 还原&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; +eux&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-------- zsh ---------&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# https://stackoverflow.com/questions/56137084/zsh-inherit-xtrace-option&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 利用 $ZDOTDIR/.zshenv&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# https://stackoverflow.com/questions/9901210/bash-source0-equivalent-in-zsh&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-- 注意：下面的所有方法在应对 &lt;span class=&#34;built_in&#34;&gt;source&lt;/span&gt;（即 .） 引入脚本时，不会更新文件名，此时从感兴趣的位置向上找到最近 &lt;span class=&#34;built_in&#34;&gt;source&lt;/span&gt; 的几个脚本，一般就是那里 --&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 定义 MyShellOpts 开启调试，可考虑去掉 eu&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;export&lt;/span&gt; MyShellOpts=-eux&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-------- ash ---------&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#!/bin/busybox sh&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 这个脚本保存为 sh 替换 /bin/sh&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 替换方法，确保 /bin/sh 为指向 /bin/dash 的软链接&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# sudo chmod --reference=/bin/sh sh&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# sudo chown --reference=/bin/sh sh&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# sudo cp --remove-destination sh /bin/sh&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;export&lt;/span&gt; PS4=&lt;span class=&#34;string&#34;&gt;&amp;#x27;[$0-$LINENO] &amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;/bin/busybox sh &lt;span class=&#34;variable&#34;&gt;$MyShellOpts&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;variable&#34;&gt;$@&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-------- dash或其它类似 shell ---------&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#!/bin/dash&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 与上面一样，这个脚本保存为 sh 替换 /bin/sh&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# $LINENO 存在也可加到 PS4 里，不存在则参考 Workaround for shells without LINENO&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# https://stackoverflow.com/questions/17804007/how-to-show-line-number-when-executing-bash-script&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 还原，cd /bin &amp;amp;&amp;amp; sudo ln -f -s dash sh&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;export&lt;/span&gt; PS4=&lt;span class=&#34;string&#34;&gt;&amp;#x27;[$0] &amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 可考虑去掉 eu&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;/bin/dash &lt;span class=&#34;variable&#34;&gt;$MyShellOpts&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;variable&#34;&gt;$@&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;不论在那个路径下运行都得到脚本的路径&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 不论在那个路径下运行都得到脚本的路径&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 获取当前脚本路径&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;SCRIPT_DIR=&lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;subst&#34;&gt;$( cd &lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;subst&#34;&gt;$( dirname &lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;variable&#34;&gt;$&amp;#123;BASH_SOURCE[0]&amp;#125;&lt;/span&gt;&amp;quot;&lt;/span&gt; )&lt;/span&gt;&amp;quot;&lt;/span&gt; &amp;amp;&amp;gt; /dev/null &amp;amp;&amp;amp; pwd )&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-1-5-nc&#34;&gt;&lt;a href=&#34;#2-1-5-nc&#34; class=&#34;headerlink&#34; title=&#34;2.1.5 nc&#34;&gt;&lt;/a&gt;2.1.5 nc&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;推荐安装 nc openbsd 版本，&lt;code&gt;apt install netcat-openbsd&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-1-6-curl&#34;&gt;&lt;a href=&#34;#2-1-6-curl&#34; class=&#34;headerlink&#34; title=&#34;2.1.6 curl&#34;&gt;&lt;/a&gt;2.1.6 curl&lt;/h3&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# FTP 下载&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;curl ftp://user:pass@192.168.7.29/code/pdt-toolchains/src/tin -o /mnt/internal_storage/tin&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# FTP 上传&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;curl -T /etc/profile ftp://user:pass@192.168.7.29/code/profile&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 与 docker 通信&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo curl -v -H &lt;span class=&#34;string&#34;&gt;&amp;#x27;User-Agent:&amp;#x27;&lt;/span&gt; -H &lt;span class=&#34;string&#34;&gt;&amp;#x27;Accept:&amp;#x27;&lt;/span&gt; -s --unix-socket /var/run/docker.sock http://localhost/v1.41/containers/json?all=&lt;span class=&#34;literal&#34;&gt;true&lt;/span&gt; | jq .[0]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;2-1-7-查找文件&#34;&gt;&lt;a href=&#34;#2-1-7-查找文件&#34; class=&#34;headerlink&#34; title=&#34;2.1.7 查找文件&#34;&gt;&lt;/a&gt;2.1.7 查找文件&lt;/h3&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;find /media/d/ -&lt;span class=&#34;built_in&#34;&gt;type&lt;/span&gt; f -size +50M ! \( -name &lt;span class=&#34;string&#34;&gt;&amp;quot;*deb&amp;quot;&lt;/span&gt; -o -name &lt;span class=&#34;string&#34;&gt;&amp;quot;*vmdk&amp;quot;&lt;/span&gt; \)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 删除前去掉 delete 进行确认&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;find . -&lt;span class=&#34;built_in&#34;&gt;type&lt;/span&gt; f ! \( -name &lt;span class=&#34;string&#34;&gt;&amp;#x27;*.cpp&amp;#x27;&lt;/span&gt; -o -name &lt;span class=&#34;string&#34;&gt;&amp;#x27;*.h&amp;#x27;&lt;/span&gt; \) -delete&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 跳过隐藏文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;find . -not -path &lt;span class=&#34;string&#34;&gt;&amp;#x27;*/\.*&amp;#x27;&lt;/span&gt; -&lt;span class=&#34;built_in&#34;&gt;type&lt;/span&gt; f ! \( -name &lt;span class=&#34;string&#34;&gt;&amp;#x27;*.cpp&amp;#x27;&lt;/span&gt; -o -name &lt;span class=&#34;string&#34;&gt;&amp;#x27;*.h&amp;#x27;&lt;/span&gt; -o -name &lt;span class=&#34;string&#34;&gt;&amp;#x27;*.txt&amp;#x27;&lt;/span&gt; \)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 先创建与源码相同的目录结构再拷贝文件，拷贝文件时忽略某些文件夹下的文件和源码&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;find . \( -&lt;span class=&#34;built_in&#34;&gt;type&lt;/span&gt; d -&lt;span class=&#34;built_in&#34;&gt;exec&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;mkdir&lt;/span&gt; -p &lt;span class=&#34;string&#34;&gt;&amp;#x27;../gatebox_work/&amp;#123;&amp;#125;&amp;#x27;&lt;/span&gt; \;   -o -&lt;span class=&#34;built_in&#34;&gt;type&lt;/span&gt; f ! \( -path &lt;span class=&#34;string&#34;&gt;&amp;#x27;./.git/*&amp;#x27;&lt;/span&gt; -o -path &lt;span class=&#34;string&#34;&gt;&amp;#x27;*/GmSSL/*&amp;#x27;&lt;/span&gt; -o -path &lt;span class=&#34;string&#34;&gt;&amp;#x27;*/.idea/*&amp;#x27;&lt;/span&gt; -o -path &lt;span class=&#34;string&#34;&gt;&amp;#x27;*/.vscode/*&amp;#x27;&lt;/span&gt; -o -name &lt;span class=&#34;string&#34;&gt;&amp;#x27;*.c&amp;#x27;&lt;/span&gt; -o -name &lt;span class=&#34;string&#34;&gt;&amp;#x27;*.h&amp;#x27;&lt;/span&gt; -o -name &lt;span class=&#34;string&#34;&gt;&amp;#x27;*.o&amp;#x27;&lt;/span&gt; -o -name &lt;span class=&#34;string&#34;&gt;&amp;#x27;*.log&amp;#x27;&lt;/span&gt; -o -iname makefile \) -&lt;span class=&#34;built_in&#34;&gt;exec&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;cp&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;&amp;#123;&amp;#125;&amp;#x27;&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;../gatebox_work/&amp;#123;&amp;#125;&amp;#x27;&lt;/span&gt; \; \)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;2-1-8-磁盘占用统计&#34;&gt;&lt;a href=&#34;#2-1-8-磁盘占用统计&#34; class=&#34;headerlink&#34; title=&#34;2.1.8 磁盘占用统计&#34;&gt;&lt;/a&gt;2.1.8 磁盘占用统计&lt;/h3&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo apt install qdirstat&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;2-1-9-cron&#34;&gt;&lt;a href=&#34;#2-1-9-cron&#34; class=&#34;headerlink&#34; title=&#34;2.1.9 cron&#34;&gt;&lt;/a&gt;2.1.9 cron&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;常见 cron &lt;a href=&#34;https://www.warp.dev/terminus/how-to-run-cron-every-hour&#34;&gt;写法&lt;/a&gt;，&lt;a href=&#34;https://crontab.guru/&#34;&gt;计算 cron 下次执行时间&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;crontab -e&lt;/code&gt; 编辑，cron 会检测 crontab 的更新，自动用最新配置&lt;/li&gt;
&lt;li&gt;&lt;code&gt;select-editor&lt;/code&gt; 改变默认编辑器&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;2-2-网络&#34;&gt;&lt;a href=&#34;#2-2-网络&#34; class=&#34;headerlink&#34; title=&#34;2.2 网络&#34;&gt;&lt;/a&gt;2.2 网络&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;wireguard&lt;ul&gt;
&lt;li&gt;看介绍&lt;a href=&#34;https://www.wireguard.com/quickstart/&#34;&gt;视频&lt;/a&gt;，详细的&lt;a href=&#34;https://www.digitalocean.com/community/tutorials/how-to-set-up-wireguard-on-ubuntu-20-04&#34;&gt;配置方法&lt;/a&gt;，注意区分 server 和 peer client&lt;/li&gt;
&lt;li&gt;对已经有配置文件的，&lt;code&gt;sudo apt install wireguard resolvconf&lt;/code&gt;，将配置保存到 &lt;code&gt;/etc/wireguard/wg0.conf&lt;/code&gt;，然后 &lt;code&gt;sudo wg-quick up wg0&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;clash_for_windows linux 版，手动安装服务&lt;a href=&#34;https://github.com/Fndroid/clash_for_windows_pkg/issues/3464&#34;&gt;方法&lt;/a&gt;，网关模式&lt;/li&gt;
&lt;li&gt;网速占用统计 apt 安装 nethogs&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;3-备份与还原&#34;&gt;&lt;a href=&#34;#3-备份与还原&#34; class=&#34;headerlink&#34; title=&#34;3 备份与还原&#34;&gt;&lt;/a&gt;3 备份与还原&lt;/h1&gt;&lt;p&gt;考虑到经常环境经常变动，所以有必要学习linux的备份和还原技术。&lt;/p&gt;
&lt;h2 id=&#34;3-1-系统备份&#34;&gt;&lt;a href=&#34;#3-1-系统备份&#34; class=&#34;headerlink&#34; title=&#34;3.1 系统备份&#34;&gt;&lt;/a&gt;3.1 系统备份&lt;/h2&gt;&lt;p&gt;备份脚本  &lt;a href=&#34;https://github.com/pedroetb/rsync-incremental-backup&#34;&gt;rsync-incremental-backup&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;注意 rsync 的 exclude 将 源路径 视为 根，因此 exclude 指定的路径都是相对 源路径 来说的，具体可以建立几个测试文件，用 &lt;code&gt;dry-run&lt;/code&gt; 的方式验证。恢复的脚本要自己写了，如果进不了系统就用 ubuntu 的安装 U 盘恢复。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;下一步&lt;/strong&gt;可以配合 cron 实现自动定期备份，配合 ssh 实现远端备份&lt;/p&gt;
&lt;h2 id=&#34;3-2-启动备份&#34;&gt;&lt;a href=&#34;#3-2-启动备份&#34; class=&#34;headerlink&#34; title=&#34;3.2 启动备份&#34;&gt;&lt;/a&gt;3.2 启动备份&lt;/h2&gt;&lt;p&gt;多系统的启动管理。每个硬盘一个 MBR，每个系统分区都有个 boot sector，两个位置都会安装 bootloader&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/linux/../linux/mbr_boot_sector.gif&#34; alt=&#34;mbr_boot_sector&#34;&gt;&lt;/p&gt;
&lt;p&gt;多系统启动方式如下，MBR 的 bootloader 可以转交给其它分区的 bootloader，即 chainload&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/linux/../linux/loader_menu.gif&#34; alt=&#34;loader_menu&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;下一步&lt;/strong&gt;可以查看 grub2 的帮助文档，以及用 dd 备份 bootloader 的方法。还原的方法则使用 ubuntu 的 安装U 盘即可。另为 ubuntu 提供了 &lt;a href=&#34;https://help.ubuntu.com/community/Boot-Repair&#34;&gt;Boot-Repair&lt;/a&gt; 工具。&lt;/p&gt;
&lt;p&gt;参考&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://cn.linux.vbird.org/linux_basic/0580backup_1.php&#34;&gt;鸟哥备份&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cn.linux.vbird.org/linux_server/0310telnetssh.php#rsync&#34;&gt;鸟哥 rsync&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.admin-magazine.com/Articles/Using-rsync-for-Backups&#34;&gt;Incremental Backups on Linux&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://wiki.archlinux.org/index.php/Rsync#Full_system_backup&#34;&gt;Rsync full system backup&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;script type=&#34;module&#34;&gt; import mermaid from &#39;https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs&#39;;	mermaid.initialize({startOnLoad: true, flowchart: {curve: &#39;linear&#39;}}); &lt;/script&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/2-3-5-7/2-3-5-7.github.io/tree/main/虚拟环境/2. 处理平台/linux&#34;&gt;&lt;i class=&#34;fa-solid fa-download fa-2xl&#34; style=&#34;color: gray;&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://synrst.de/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/%E6%89%8B%E6%9C%BA_%E7%94%B5%E8%A7%86_%E5%B9%B3%E6%9D%BF/</guid>
            <title>手机_电视_平板</title>
            <link>https://synrst.de/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/%E6%89%8B%E6%9C%BA_%E7%94%B5%E8%A7%86_%E5%B9%B3%E6%9D%BF/</link>
            <pubDate>Thu, 01 Jan 1970 08:00:00 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;1-ADB-卸载系统-App&#34;&gt;&lt;a href=&#34;#1-ADB-卸载系统-App&#34; class=&#34;headerlink&#34; title=&#34;1 ADB 卸载系统 App&#34;&gt;&lt;/a&gt;1 ADB 卸载系统 App&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;开发者选项，开启 USB 调试&lt;/li&gt;
&lt;li&gt;安装 USB driver&lt;/li&gt;
&lt;li&gt;下载 ADB 工具&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;2、3 放入 windows 建议安装 - ADB 中&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;获取包名，打开 App，输入 &lt;code&gt;adb shell dumpsys window | findstr mCurrentFocus&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;列出包，&lt;code&gt;adb shell pm list packages&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;恢复方法 &lt;code&gt;adb shell cmd package install-existing com.huawei.appmarket&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Andrioid 11无线调试&lt;ul&gt;
&lt;li&gt;打开 usb 调试和无线调试&lt;/li&gt;
&lt;li&gt;&lt;code&gt;adb pair HOST[:PORT] [PAIRING CODE]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;adb connect 192.168.1.xxx:xxx  &amp;#x2F;&amp;#x2F; 注意端口和上门的配对端口不一样，无线调试的IP地址及端口&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;华为&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.android.mediacenter  音乐&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.huawei.himovie  视频&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.huawei.wallet  钱包&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.huawei.search  搜索&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.huawei.hwread.al 阅读&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.huawei.browser 浏览器&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.huawei.vassistant	语音助手。不建议删，开启可支持 AI 字幕&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.huawei.scanner	智慧视觉&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.huawei.intelligent	智能助手&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.huawei.android.pushagent  推送服务&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.huawei.tips	智能提醒&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.baidu.input_huawei	百度输入法华为版&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.huawei.hitouch 智慧识屏&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.huawei.hiaction  智能识屏中控模块&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.huawei.hiai 智慧引擎&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.huawei.recsys (HwHiAIDSEngine)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.huawei.pengine 智能建议&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.huawei.phoneservice 我的华为&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.android.contacts 联系人&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm disable-user com.huawei.android.hwouc 关闭系统更新，先清除数据，进入更新消除红点。disable-user 换成 enble 启用&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm disable-user com.huawei.hwid  (HMS Core)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;小米，&lt;a href=&#34;https://fengooge.blogspot.com/2019/03/taking-ADB-to-uninstall-system-applications-in-MIUI-without-root.html&#34;&gt;参考&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.miui.systemAdSolution  （小米系统广告解决方案，必删）&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.miui.analytics  （小米广告分析，必删）&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.miui.player  （小米音乐）&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.miui.video  （小米视频）&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.miui.videoplayer&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.android.thememanager  （个性主题管理）&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.miui.translation.youdao  （有道翻译）&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.miui.translation.kingsoft  （金山翻译）&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.android.quicksearchbox （搜索）&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.android.browser  （浏览器）&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.miui.voiceassist  （小爱同学）&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.miui.miservice  （服务与反馈）&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;健康只能 disable&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pm disable-user --user 0 com.mi.health&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pm enable com.mi.health&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;oppo a57t&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.oppo.usercenter&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.android.email&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.oppo.music&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.nearme.themespace&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.nearme.themespacelib&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm uninstall --user 0 com.nearme.gamecenter&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&#34;2-备份与还原&#34;&gt;&lt;a href=&#34;#2-备份与还原&#34; class=&#34;headerlink&#34; title=&#34;2 备份与还原&#34;&gt;&lt;/a&gt;2 备份与还原&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;备份时，进行本地备份与云备份。本地备份后拷出到 PC，路径见下&lt;/li&gt;
&lt;li&gt;还原时，先不登录云账号，进行本地备份的恢复。然后登录云端，进行云备份的还原。还原文件存放位置 &lt;code&gt;内部存储设备\MIUI\backup\AllBackup\日期开头的备份文件夹&lt;/code&gt;，没有则新建&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;3-Google-play&#34;&gt;&lt;a href=&#34;#3-Google-play&#34; class=&#34;headerlink&#34; title=&#34;3 Google play&#34;&gt;&lt;/a&gt;3 Google play&lt;/h1&gt;&lt;p&gt;目前小米和华为对 google 的支持都比较麻烦，谨慎升级系统，或者换到国际版系统&lt;/p&gt;
&lt;h2 id=&#34;3-1-小米&#34;&gt;&lt;a href=&#34;#3-1-小米&#34; class=&#34;headerlink&#34; title=&#34;3.1 小米&#34;&gt;&lt;/a&gt;3.1 小米&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;准备&lt;ul&gt;
&lt;li&gt;参考 &lt;a href=&#34;https://www.zhihu.com/question/50231539/answer/530627637&#34;&gt;怎么刷MIUI国际版Rom？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;按电源键 + 音量上键进入 recovery，长按电源键 + 音量下键进入 fastboot&lt;/li&gt;
&lt;li&gt;备份微信聊天记录，进行桌面和其它内容的云同步&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.miui.com/unlock/&#34;&gt;解锁手机&lt;/a&gt;，需要进入开发者模式 – 设备解锁状态，等 7 天&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;刷入 recovery&lt;ul&gt;
&lt;li&gt;参考 &lt;a href=&#34;https://xiaomi.eu/community/threads/installing-a-custom-recovery.67841/&#34;&gt;Installing a Custom Recovery&lt;/a&gt; ，下 fastboot 和 对应设备的 twrp，进 fastboot，刷 twrp 不同设备有区别，见参考&lt;ul&gt;
&lt;li&gt;装小米驱动后 fastboot 仍可能找不到设备，参考&lt;a href=&#34;https://blog.csdn.net/qz2014728/article/details/101760398&#34;&gt;这个&lt;/a&gt;。在设备管理器中，驱动更新选择 “从计算机的设备驱动列表中选择” – Android Phone – Android bootloader interface，忽略安装警告&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TWRP-3.3.0-0421-XIAOMI9SE-CN-wzsx150-fastboot.7z&lt;/code&gt;  是旧版备份&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;三清(Dalvik&amp;#x2F;Cache&amp;#x2F;Data)后，（降级或第一次刷）刷入前清除 data 分区，recovery 刷入 &lt;a href=&#34;https://xiaomi.eu/community/&#34;&gt;eu 版&lt;/a&gt; 。&lt;a href=&#34;https://cloud.tencent.com/developer/news/473261&#34;&gt;刷机双清、三清、四清&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;对于 &lt;code&gt;E30004: This package is for &amp;quot;grus&amp;quot; devices; this is a &amp;quot;&amp;quot;&lt;/code&gt; ，输入命令 setprop ro.product.device grus 和 setprop ro.build.product grus，&lt;a href=&#34;https://www.reddit.com/r/Xiaomi/comments/nphvzv/twrp_e30004_this_package_is_for_grus_devices_this/&#34;&gt;见&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;K60 在最后会报挂载的 3 个错误，目前看没问题&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;联网后用小米账户解锁，设置 WIFI 局域网代理从而可以登录 Google 账号，&lt;a href=&#34;https://blog.minamigo.moe/archives/287&#34;&gt;参考&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;在 recovery 刷入 &lt;a href=&#34;https://magiskapp.com/zip/&#34;&gt;magisk&lt;/a&gt;，官网下载 apk 文件（不是 zip，zip 是源码），然后重命名为 zip 文件后刷入&lt;ul&gt;
&lt;li&gt;Magisk 隐藏应用名&lt;/li&gt;
&lt;li&gt;打开排除列表 DenyList（Zygisk 下面），选上所有银行 App&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;App&lt;ul&gt;
&lt;li&gt;安装 &lt;code&gt;除Win外软件\手机\mi9se&lt;/code&gt; 里面的小米应用商店、MX 播放器、系统应用删除&lt;/li&gt;
&lt;li&gt;删除系统应用，视频、音乐、搜索、服务与反馈、浏览器&lt;/li&gt;
&lt;li&gt;使用云同步恢复应用，Google Play 恢复应用&lt;/li&gt;
&lt;li&gt;设置 magisk hide 等金融 App，同时选择隐藏 Magisk 包名&lt;/li&gt;
&lt;li&gt;字体修改，默认 nato sans 在同一个作者中的找到 milan pro 安装并应用&lt;/li&gt;
&lt;li&gt;不要用自带应用商店更新天气，会导致天气打不开&lt;/li&gt;
&lt;li&gt;为了让 JuiceSSH 输入中文，用手心输入法，并禁止联网，apk 已备份&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;通过 &lt;a href=&#34;https://blog.minamigo.moe/archives/184&#34;&gt;Magisk 模块&lt;/a&gt; 解决，没有公交卡、短信通知类不归类、电话没有来电识别，配置文件 &lt;code&gt;MiuiEuLocalization.ini&lt;/code&gt; 已备份&lt;/li&gt;
&lt;li&gt;Xposed&lt;ul&gt;
&lt;li&gt;Magisk 启用 zygisk，&lt;del&gt;Magisk 安装 Riru-core&lt;/del&gt;&lt;/li&gt;
&lt;li&gt;Github &lt;a href=&#34;https://github.com/LSPosed/LSPosed/releases&#34;&gt;下载&lt;/a&gt;，Magisk 本地安装最新 LSPosed，zygisk 版本，&lt;a href=&#34;https://magiskcn.com/lsposed-install&#34;&gt;参考&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;del&gt;Magisk 模块安装最新 Riru - EdXposed v0.5.2.2_4683 （配合旧版 Riru-core 25.4.4.r426），安装 &lt;a href=&#34;https://github.com/ElderDrivers/EdXposed&#34;&gt;EdXposed Manager&lt;/a&gt;&lt;/del&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;安装需要的 xposed 模块，如 &lt;a href=&#34;https://github.com/nining377/dolby_beta&#34;&gt;杜比大喇叭&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;重启后生效&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;用 &lt;a href=&#34;https://github.com/Displax/safetynet-fix&#34;&gt;safetynet-fix&lt;/a&gt; 修复 safetynet，&lt;a href=&#34;https://www.v2ex.com/t/959720&#34;&gt;参考&lt;/a&gt;，修复后要清除 play 商店数据&lt;/li&gt;
&lt;li&gt;关闭 play 商店自动更新，关闭小米应用商店自动更新&lt;/li&gt;
&lt;li&gt;微信&lt;ul&gt;
&lt;li&gt;用 wechat play 版体积更小&lt;/li&gt;
&lt;li&gt;搜索 rec 打开深度清理，然后进入通用里面清理缓存&lt;/li&gt;
&lt;li&gt;最终方法是备份聊天记录后还原&lt;/li&gt;
&lt;li&gt;开启青少年模式、关怀模式去除公众号广告&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;3-2-华为&#34;&gt;&lt;a href=&#34;#3-2-华为&#34; class=&#34;headerlink&#34; title=&#34;3.2 华为&#34;&gt;&lt;/a&gt;3.2 华为&lt;/h2&gt;&lt;p&gt;安装 google play 见 &lt;code&gt;除Win外软件\华为M6&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;参考 &lt;a href=&#34;https://www.youtube.com/watch?v=WwuDKmMuFX0&#34;&gt;这个视频&lt;/a&gt;，卸载当前版本”备份“，安装旧版本”备份“，恢复”谷歌服务助手“，激活后重启&lt;/li&gt;
&lt;li&gt;时间改到 19 年（ 是否可以不改？），&lt;a href=&#34;https://www.youtube.com/watch?v=EnDl10mYijA&#34;&gt;顺序安装&lt;/a&gt; 1-5，关键的帐户管理器，使用&lt;a href=&#34;https://www.youtube.com/watch?v=xbcODqjP4Xo&amp;t=79s&#34;&gt;另一个视频&lt;/a&gt;中的，登录不上去重启一下。安装时所有 App 的权限都勾上&lt;/li&gt;
&lt;li&gt;安装服务框架&lt;/li&gt;
&lt;li&gt;关注视频账号的最新更新，没事不升级华为该死的系统&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;现在将应用商店地区切换到 中国香港，安装 Gspace，然后在里面就可以登陆 Google 账号，安装 Google play 应用了，&lt;a href=&#34;https://www.youtube.com/watch?v=__7U73TQaZE&#34;&gt;参考&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;3-3-应用购买&#34;&gt;&lt;a href=&#34;#3-3-应用购买&#34; class=&#34;headerlink&#34; title=&#34;3.3 应用购买&#34;&gt;&lt;/a&gt;3.3 应用购买&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;中国区不能购买应用，使用 &lt;code&gt;US Fake Address Generator&lt;/code&gt; 添加生成的美国地址（目前在用的见 prsnl），信用卡使用 VISA&lt;/li&gt;
&lt;li&gt;挂美国代理，在页面中切换为美国区。删除旧的中国地址&lt;/li&gt;
&lt;li&gt;信用卡会扣 1 美元测试，一段时间后自动退款&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;4-电视&#34;&gt;&lt;a href=&#34;#4-电视&#34; class=&#34;headerlink&#34; title=&#34;4 电视&#34;&gt;&lt;/a&gt;4 电视&lt;/h1&gt;&lt;h2 id=&#34;4-1-极米Z4X&#34;&gt;&lt;a href=&#34;#4-1-极米Z4X&#34; class=&#34;headerlink&#34; title=&#34;4.1 极米Z4X&#34;&gt;&lt;/a&gt;4.1 极米Z4X&lt;/h2&gt;&lt;p&gt;花 50 买的这个固件 &lt;code&gt;[小林固件]极米Z4X第三方官改，极致精简、去广告、ROOT，当贝桌面版&lt;/code&gt;，无法切换信号源。因为只有极米桌面才有信号源功能。联系卖家 QQ 群后，给了我新的固件，使用极米原版的 Launcher，且没 root。以后再也不买这种垃圾，还不如自己 root 后删系统应用呢。好像不 root 能用 ADB 也可以。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;刷入上面提到的小林固件，&lt;code&gt;jimi-z4-root-dangbei.zip&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;安装 &lt;code&gt;3C All-in-One Toolbox-Pro-v2.2.2c_build_200111-Mod-armeabi-v7a.apk&lt;/code&gt; 和极米桌面&lt;/li&gt;
&lt;li&gt;用 3C 删掉当贝的那堆垃圾，其它系统应用也可以删，可以只留系统设置和无线投屏&lt;/li&gt;
&lt;li&gt;配置极米桌面，删掉不用的栏目&lt;/li&gt;
&lt;li&gt;用 3C ，应用管理 - 极米桌面 - 打开 - Open external Directory，删掉 cache 文件夹里面的内容，同时去掉 cache 的写入权限，这样极米桌面就没有下载的图片了&lt;/li&gt;
&lt;li&gt;不要用这个。用 3C ，应用管理 - 极米桌面 - 打开 - 打开数据目录，databases 中的 okgo_server.db 如果被去掉所有权限，就能做到桌面上什么都没有，信号源功能还可用。原本打算这样然后再装一个 TV Launcher，但尝试后发现，在 Top_TV_Launcher 中无法看到极米桌面（其它 Launcher 也看不到），而不启动极米桌面就无法使用信号源，╮（╯＿╰）╭ 。而且使用其它 Launcher 再启动极米桌面会有一段延迟。看来只能是有裁剪的极米桌面才能达到我想要的效果&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;https://pan.baidu.com/s/1V9H7uOOiIoplY78SBeruDg&#34;&gt;固件和 Apk 的共享链接&lt;/a&gt;&lt;br&gt;提取码：echo&lt;/p&gt;
&lt;p&gt;技巧&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;更新到旧版本前，在现有版本中，忘记无线网络，避免联网后自动更新和下载广告&lt;/li&gt;
&lt;li&gt;在官方版本中，将g 后缀文件&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;5-平板&#34;&gt;&lt;a href=&#34;#5-平板&#34; class=&#34;headerlink&#34; title=&#34;5 平板&#34;&gt;&lt;/a&gt;5 平板&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;使用 kiwi browser 和 &lt;a href=&#34;https://gitlab.com/magnolia1234/bypass-paywalls-chrome-clean&#34;&gt;bypass-paywalls-chrome-clean&lt;/a&gt;，在 releases 中找到专门给 kiwi 的 crx，打开开发模式后装入&lt;/li&gt;
&lt;li&gt;常用媒体 ap、nyt、wsj、Economist、wired&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;5-1-华为-M6&#34;&gt;&lt;a href=&#34;#5-1-华为-M6&#34; class=&#34;headerlink&#34; title=&#34;5.1 华为 M6&#34;&gt;&lt;/a&gt;5.1 华为 M6&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://club.huawei.com/thread-21738309-1-1.html&#34;&gt;华为M6锁定后台&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;任务切换视图，下滑锁定（下滑时间长一点）&lt;/li&gt;
&lt;li&gt;应用启动管理，改为手动，允许后台活动&lt;/li&gt;
&lt;li&gt;电池优化，不允许优化&lt;/li&gt;
&lt;li&gt;开放相应的权限&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;清理生成的 hwbk 文件，&lt;a href=&#34;https://www.keccak.top/memo/delete-hwbk.html&#34;&gt;参考&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;先 &lt;code&gt;adb pm uninstall --user 0 com.huawei.systemserver&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;再用 MiXplorer 重命名所有要删除的文件&lt;/li&gt;
&lt;li&gt;最后用 MiXplorer 删除改名后的文件和所在文件夹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;5-2-kindle-fire&#34;&gt;&lt;a href=&#34;#5-2-kindle-fire&#34; class=&#34;headerlink&#34; title=&#34;5.2 kindle fire&#34;&gt;&lt;/a&gt;5.2 kindle fire&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;使用美国亚马逊账户登陆，否则没有应用商店，如果已经用中国账户登陆可以重置，并在账户中删除设备。安装完 netflix 后，可以切换到中国区账户，方便接收文档&lt;/li&gt;
&lt;li&gt;实际测试，只要注销中国区并用美国账户登录，应用商店即可转区，不需要重置设备&lt;/li&gt;
&lt;li&gt;开启 usb 调试，使用 Fire Toolbox V12.0 去广告、换 launcher、装 Google Play、隐藏底部导航条、去除自带应用&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1. 清除 download failed 提示&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell dumpsys notification，获得通知 app 的名称为 com.android.providers.downloads&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm disable-user com.android.providers.downloads&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm enable com.android.providers.downloads&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2. disable search 应用&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;adb shell pm disable-user com.android.quicksearchbox&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;5-3-文石-BOOX-Poke2&#34;&gt;&lt;a href=&#34;#5-3-文石-BOOX-Poke2&#34; class=&#34;headerlink&#34; title=&#34;5.3 文石 BOOX Poke2&#34;&gt;&lt;/a&gt;5.3 文石 BOOX Poke2&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;在应用设置中选择安装 谷歌套件&lt;/li&gt;
&lt;li&gt;需要有 GSF ID 认证的步骤，否则会提示未获得保护机制认证，操作见 &lt;a href=&#34;https://www.bilibili.com/video/BV1E64y147kz&#34;&gt;boox应用技巧：googleplay的设置和绑定&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;添加词典，在 dicts 中新建词典名称文件夹，拷入词典，拔出数据线，&lt;a href=&#34;https://www.bilibili.com/video/BV1RX4y1A7y3&#34;&gt;操作见&lt;/a&gt;，词典文件与欧路共用简明英汉&lt;/li&gt;
&lt;li&gt;V2 引擎关闭会导致有的图书看不到目录&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;6-WSA&#34;&gt;&lt;a href=&#34;#6-WSA&#34; class=&#34;headerlink&#34; title=&#34;6 WSA&#34;&gt;&lt;/a&gt;6 WSA&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;解决 WSA 占用 C 盘空间过大，移动到其它盘，&lt;a href=&#34;https://www.windows11tips.com/how-to-customize-windows-subsystem-for-android-file-path-in-windows-11/&#34;&gt;参考&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;mklink /J &amp;quot;C:\Users\用户名\AppData\Local\Packages\MicrosoftCorporationII.WindowsSubsystemForAndroid_8wekyb3d8bbwe\LocalCache&amp;quot; &amp;quot;D:\LocalCache&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;7-App&#34;&gt;&lt;a href=&#34;#7-App&#34; class=&#34;headerlink&#34; title=&#34;7 App&#34;&gt;&lt;/a&gt;7 App&lt;/h1&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名称&lt;/th&gt;
&lt;th&gt;用处&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;FolderSync Pro&lt;/td&gt;
&lt;td&gt;用于 Google Drive 同步文件，也支持其它网盘服务&lt;br /&gt;选择同步到本地，同步选项开启同步删除操作&lt;br /&gt;poke2 要安装 chrome 浏览器才能弹出授权&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://synrst.de/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/%E8%B7%AF%E7%94%B1%E5%99%A8/</guid>
            <title>路由器</title>
            <link>https://synrst.de/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/%E8%B7%AF%E7%94%B1%E5%99%A8/</link>
            <pubDate>Thu, 01 Jan 1970 08:00:00 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;1-刷机&#34;&gt;&lt;a href=&#34;#1-刷机&#34; class=&#34;headerlink&#34; title=&#34;1 刷机&#34;&gt;&lt;/a&gt;1 刷机&lt;/h1&gt;&lt;h2 id=&#34;1-1-斐讯K2&#34;&gt;&lt;a href=&#34;#1-1-斐讯K2&#34; class=&#34;headerlink&#34; title=&#34;1.1 斐讯K2&#34;&gt;&lt;/a&gt;1.1 斐讯K2&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;确定硬件版本，斐讯K2 PSG1218 硬件A2&lt;/li&gt;
&lt;li&gt;更新到官方某个版本，来实现开 telnet、ssh&lt;/li&gt;
&lt;li&gt;刷 breed，相当于 bootloader&lt;/li&gt;
&lt;li&gt;EEPROM、编程器固件备份&lt;/li&gt;
&lt;li&gt;刷别人的固件，华硕、padavan(hiboy)，见 &lt;a href=&#34;https://tbvv.net/posts/0101-breed.html&#34;&gt;刷机与固件列表&lt;/a&gt;，还可以考虑 &lt;a href=&#34;https://eryige.com/wordpress/?p=214&#34;&gt;自己编译&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;1-2-小米路由器3G&#34;&gt;&lt;a href=&#34;#1-2-小米路由器3G&#34; class=&#34;headerlink&#34; title=&#34;1.2 小米路由器3G&#34;&gt;&lt;/a&gt;1.2 小米路由器3G&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;下载 &lt;a href=&#34;http://www.miwifi.com/miwifi_download.html&#34;&gt;开发板&lt;/a&gt; miwifi_r3g_firmware_12f97_2.25.124.bin，登陆路由器页面，系统状态 -&amp;gt; 升级检测 刷入&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://d.miwifi.com/rom/ssh&#34;&gt;开 SSH&lt;/a&gt; miwifi_ssh.bin。按照页面提示操作&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://breed.hackpascal.net/breed-mt7621-xiaomi-r3g.bin&#34;&gt;刷 breed&lt;/a&gt; breed-mt7621-xiaomi-r3g.bin。放入 U 盘后，&lt;code&gt;mtd -r write /extdisks/sda1/breed-mt7621-xiaomi-r3g.bin Bootloader&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;EEPROM、编程器固件备份。有线网卡 IP 192.168.1.x，断电、按住 reset、接电，路由灯狂闪的时候松开，电脑上在浏览器中输入192.168.1.1，进入 breed 控制台&lt;/li&gt;
&lt;li&gt;刷 &lt;a href=&#34;http://opt.cn2qq.com/padavan/&#34;&gt;padavan(hiboy)&lt;/a&gt; 中的 &lt;code&gt;MI-R3G_3.4.3.9-099.trx&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.skk.moe/post/miwifi-r3g-mwan/&#34;&gt;参考1&lt;/a&gt;、&lt;a href=&#34;https://www.right.com.cn/forum/thread-257423-1-1.html&#34;&gt;参考2&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;1-3-红米-ac2100&#34;&gt;&lt;a href=&#34;#1-3-红米-ac2100&#34; class=&#34;headerlink&#34; title=&#34;1.3 红米 ac2100&#34;&gt;&lt;/a&gt;1.3 红米 ac2100&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;原版固件网速快（500M 宽带，两级路由下面 5G WIFI 达到 610M 网速，与直连光猫拨号比少几十M网速），但功能少，无法解决二级路由下设备 IPv6 地址在 PPPoE 重拨后旧地址不消失的问题；而 OpenWrt（开 PPPoE 拨号，有线最高 430M 网速）网速慢，但插件多，支持 IPv6 PD 下发。目前 OpenWrt 固件是大分区单系统，无法双系统切换&lt;/li&gt;
&lt;li&gt;刷 OpenWrt &lt;a href=&#34;https://www.bilibili.com/read/cv18237601&#34;&gt;参考&lt;/a&gt;&lt;ol&gt;
&lt;li&gt;开 SSH。用官方修复工具降级到有漏洞版本 2.0.7 开 SSH  &lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;替换 &amp;lt;STOK&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;http://192.168.31.1/cgi-bin/luci/;stok=&amp;lt;STOK&amp;gt;/api/misystem/set_config_iotdev?bssid=Xiaomi&amp;amp;user_id=longdike&amp;amp;ssid=-h%3B%20nvram%20set%20ssh_en%3D1%3B%20nvram%20commit%3B%20sed%20-i%20&amp;#x27;s%2Fchannel%3D.*%2Fchannel%3D%5C%22debug%5C%22%2Fg&amp;#x27;%20%2Fetc%2Finit.d%2Fdropbear%3B%20%2Fetc%2Finit.d%2Fdropbear%20start%3B&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;http://192.168.31.1/cgi-bin/luci/;stok=&amp;lt;STOK&amp;gt;/api/misystem/set_config_iotdev?bssid=Xiaomi&amp;amp;user_id=longdike&amp;amp;ssid=-h%3B%20echo%20-e%20&amp;#x27;admin%5Cnadmin&amp;#x27;%20%7C%20passwd%20root%3B&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;root 密码 admin&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;刷固件&lt;ul&gt;
&lt;li&gt;下 &lt;a href=&#34;https://openwrt.org/toh/xiaomi/xiaomi_redmi_router_ac2100&#34;&gt;OpenWrt 官方固件&lt;/a&gt;，openwrt-22.03.0-ramips-mt7621-xiaomi_redmi-router-ac2100-squashfs-kernel1.bin、openwrt-22.03.0-ramips-mt7621-xiaomi_redmi-router-ac2100-squashfs-rootfs0.bin&lt;/li&gt;
&lt;li&gt;两个文件用 WinSCP 传到 &amp;#x2F;tmp 下  &lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 看当前分区&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;cat&lt;/span&gt; /proc/mtd&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;nvram &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; flag_try_sys1_failed=1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;nvram commit&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;cd&lt;/span&gt; /tmp&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mtd write openwrt-22.03.0-ramips-mt7621-xiaomi_redmi-router-ac2100-squashfs-kernel1.bin kernel1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mtd write openwrt-22.03.0-ramips-mt7621-xiaomi_redmi-router-ac2100-squashfs-rootfs0.bin rootfs0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;reboot&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;另一种 breed 法，不推荐，还原原版要先还原 bootloader&lt;ul&gt;
&lt;li&gt;刷 &lt;a href=&#34;https://breed.hackpascal.net/&#34;&gt;Breed&lt;/a&gt;，scp 传到 &amp;#x2F;tmp 下，&lt;code&gt;mtd -r write /tmp/breed-mt7621-xiaomi-r3g.bin Bootloader&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;进 Breed，固件更新，闪存布局选 OpenWrt，也可以刷老毛子 padavan，&lt;a href=&#34;https://www.right.com.cn/forum/thread-4047892-1-1.html&#34;&gt;有些 padavan&lt;/a&gt; 能到 600M 以上，没测试&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;刷回原版或原版降级：如果刷过 breed，要先通过 breed 恢复原版 bootloader（原版才能用修复工具），然后修复工具刷 2.0.7（&lt;strong&gt;台式网卡不行，USB 网卡可以&lt;/strong&gt;）&lt;ul&gt;
&lt;li&gt;想一直用原版固件，借鉴 autossh 的 &lt;a href=&#34;https://github.com/NakanoSanku/StudyShare/blob/master/ax3000/ax3000-cr880x-SSH.md&#34;&gt;方法&lt;/a&gt; 固化 SSH，在 firewall 配置添加一个自启脚本 autossh.sh，之后就可以升级官方固件了  &lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 改密码&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;passwd&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;mkdir&lt;/span&gt; /data/auto_ssh&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;cd&lt;/span&gt; /data/auto_ssh&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# WinSCP 传进来 auto_ssh.sh&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;chmod&lt;/span&gt; +x auto_ssh.sh&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;./auto_ssh.sh&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 应该存在 dropbear_rsa_host_key&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;ls&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; firewall.auto_ssh=include&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; firewall.auto_ssh.type=&lt;span class=&#34;string&#34;&gt;&amp;#x27;script&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; firewall.auto_ssh.path=&lt;span class=&#34;string&#34;&gt;&amp;#x27;/data/auto_ssh/auto_ssh.sh&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; firewall.auto_ssh.enabled=&lt;span class=&#34;string&#34;&gt;&amp;#x27;1&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 确认修改&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci changes firewall&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci commit firewall&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 之后就可以更新官方固件到最新了&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;1-4-移动CR8808（红米AX3000&#34;&gt;&lt;a href=&#34;#1-4-移动CR8808（红米AX3000&#34; class=&#34;headerlink&#34; title=&#34;1.4 移动CR8808（红米AX3000)&#34;&gt;&lt;/a&gt;1.4 移动CR8808（红米AX3000)&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;开 ssh&lt;ul&gt;
&lt;li&gt;&lt;p&gt;进 uboot&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;拆两颗螺丝，撬棒打开顶盖，接上 TTL&lt;ul&gt;
&lt;li&gt;网口朝上，从左开始依次是 电源、RXD、GND、TXD，因此从第 2 个开始依次接 TTL 模块 TXD, GND, RXD&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;修复工具刷 8806 固件。用笔记本的网卡（&lt;strong&gt;台式网卡不行，USB 网卡可以&lt;/strong&gt;），关 defender 防火墙，禁用其它网卡，网线插 1 号 LAN 口，reset 按钮是凹进去的，别和 mesh 组网按钮搞混了&lt;/li&gt;
&lt;li&gt;刷好后蓝灯闪烁，插电 5s 内按任意键&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;开启插电 5s 内任意键进串口，方便以后调试&lt;/p&gt;
  &lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;setenv boot_wait on&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;setenv uart_en 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;saveenv&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;改 bdata.bin&lt;/p&gt;
  &lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;setenv ipaddr 192.168.1.2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;setenv serverip 192.168.1.1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 查看分区信息&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;smeminfo&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 打开 tftpd64.exe 后选择对应IP地址，回到命令窗口输入以下命令提取 bdata 分区&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;nand &lt;span class=&#34;built_in&#34;&gt;read&lt;/span&gt; 0x44000000 0x900000 0x80000&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;tftpput 0x44000000 0x80000 bdata.bin&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 备份后，用 WinHEX 修改 bdata.bin&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 修改方法见下方 详细步骤2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 上传回去并写入&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;tftpboot bdata.bin &amp;amp;&amp;amp; nand erase 0x900000 0x80000 &amp;amp;&amp;amp; nand write 0x44000000 0x900000 0x80000&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 写入 ok 后重启&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;reset&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;telnet 登录，密码通过 sn（包含斜杠&amp;#x2F;） &lt;a href=&#34;https://miwifi.dev/ssh&#34;&gt;算出&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;可选：开 ssh，原理是给 firewall 配置加一个新的开机启动脚本，脚本放在不会被还原的 &amp;#x2F;data 下，脚本里面每次还原 ssh 密钥（也备份到 &amp;#x2F;data 下）并启动 ssh 服务&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;防火墙配置部分，参考 &lt;a href=&#34;https://openwrt.org/docs/guide-user/firewall/firewall_configuration&#34;&gt;OpenWrt firewall&lt;/a&gt; 用 &lt;a href=&#34;https://openwrt.org/docs/guide-user/base-system/uci&#34;&gt;uci 命令&lt;/a&gt; 配，就像 &lt;a href=&#34;https://github.com/NakanoSanku/StudyShare/blob/master/ax3000/ax3000-cr880x-SSH.md&#34;&gt;这里&lt;/a&gt; 的 ssh 自启动一样&lt;/p&gt;
  &lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 查看当前防火墙配置&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci show firewall&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 允许 ping 内网&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci add firewall rule&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; firewall.@rule[-1].name=&lt;span class=&#34;string&#34;&gt;&amp;#x27;Allow-ICMPv6-Forward&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; firewall.@rule[-1].src=&lt;span class=&#34;string&#34;&gt;&amp;#x27;wan&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; firewall.@rule[-1].dest=&lt;span class=&#34;string&#34;&gt;&amp;#x27;*&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; firewall.@rule[-1].proto=&lt;span class=&#34;string&#34;&gt;&amp;#x27;icmp&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci add_list firewall.@rule[-1].icmp_type=&lt;span class=&#34;string&#34;&gt;&amp;#x27;echo-request&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci add_list firewall.@rule[-1].icmp_type=&lt;span class=&#34;string&#34;&gt;&amp;#x27;echo-reply&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci add_list firewall.@rule[-1].icmp_type=&lt;span class=&#34;string&#34;&gt;&amp;#x27;destination-unreachable&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci add_list firewall.@rule[-1].icmp_type=&lt;span class=&#34;string&#34;&gt;&amp;#x27;packet-too-big&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci add_list firewall.@rule[-1].icmp_type=&lt;span class=&#34;string&#34;&gt;&amp;#x27;time-exceeded&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci add_list firewall.@rule[-1].icmp_type=&lt;span class=&#34;string&#34;&gt;&amp;#x27;bad-header&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci add_list firewall.@rule[-1].icmp_type=&lt;span class=&#34;string&#34;&gt;&amp;#x27;unknown-header-type&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; firewall.@rule[-1].&lt;span class=&#34;built_in&#34;&gt;limit&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;#x27;1000/sec&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; firewall.@rule[-1].family=&lt;span class=&#34;string&#34;&gt;&amp;#x27;ipv6&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; firewall.@rule[-1].target=&lt;span class=&#34;string&#34;&gt;&amp;#x27;ACCEPT&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 确认修改&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci changes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 让修改生效，用 ip6tables 也能配，但重启后会丢配置&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci commit firewall&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;/etc/init.d/firewall restart&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 查看配置&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;uci show firewall.@rule[-1]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;cat&lt;/span&gt; /etc/config/firewall&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;参考&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.right.com.cn/forum/thread-8268392-1-1.html&#34;&gt;总体概况，2 楼内容&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/NakanoSanku/StudyShare/blob/master/ax3000/ax3000-cr880x-SSH.md&#34;&gt;详细步骤1&lt;/a&gt;、&lt;a href=&#34;https://www.right.com.cn/forum/forum.php?mod=viewthread&amp;tid=8281028&#34;&gt;详细步骤2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.wutaijie.top/?p=254&#34;&gt;启发来源 AX3600&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://post.smzdm.com/p/am8don7p/&#34;&gt;装插件&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;刷固件：在 uboot 或 ssh 里面刷，目前固件 2.4G wifi 信号不稳，&lt;a href=&#34;https://github.com/hzyitc/openwrt-redmi-ax3000&#34;&gt;刷 openwrt1&lt;/a&gt;、&lt;a href=&#34;https://www.right.com.cn/forum/thread-8274491-1-1.html&#34;&gt;刷 openwrt2&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;参考 &lt;a href=&#34;https://github.com/hzyitc/openwrt-redmi-ax3000&#34;&gt;烧写代码&lt;/a&gt;，&lt;code&gt;ubiformat /dev/mtd19 -f openwrt-ipq50xx-arm-redmi_ax3000-squashfs-nand-factory.ubi&lt;/code&gt;，将 OpenWrt 烧到 system2，原版在 system1，为双系统，切换系统命令如下&lt;/p&gt;
  &lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 显示 ubi.mtd=rootfs 说明当前为 system1，ubi.mtd=rootfs_1 为 system2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;cat&lt;/span&gt; /proc/cmdline&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# system1 切 system2，原版切到 OpenWrt&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;nvram &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; flag_last_success=1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;nvram &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; flag_boot_rootfs=1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;nvram commit&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;reboot&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# system2 切 system1，OpenWrt 切到原版&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;fw_setenv flag_last_success 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;fw_setenv flag_boot_rootfs 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;reboot&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;由于 ac2100 刷 openwrt 做一级路由拨号时，最大速度只有 450M，故将 CR8808 刷 openwrt 做一级路由（关 wifi，网线接二级路由，所以固件信号问题不影响），ac2100 刷回做二级路由，虽然原版 WIFI 速度快，但无法解决二级路由下设备 IPv6 地址在 PPPoE 重拨后旧地址不消失的问题（netsh interface ipv6 show siteprefixes，怀疑没有发送 RA 中 Router lifetime 为 0, Prefix information 中 Valid Lifetime 为 0 的报文，能确认 OpenWrt 发了，让旧的 prefix 失效），故也刷 OpenWrt&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;可改分区表 mtd1 MIBIB 实现增加 OpenWrt Flash 空间，未尝试，这样可能就是 OpenWrt 单系统，没有原版系统了&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;路由器无线加密方式“WPA3&amp;#x2F;WPA2”，Windows  查看是否支持 WIFI6(802.11ax) 和 WPA3 命令 &lt;code&gt;netsh wlan show drivers&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;刷回原版或原版降级：见上面系统切换命令，原版系统已开 telnet。注意：如要用修复工具还原原版，则需要重新拆机开启 telnet&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;2-远程管理&#34;&gt;&lt;a href=&#34;#2-远程管理&#34; class=&#34;headerlink&#34; title=&#34;2 远程管理&#34;&gt;&lt;/a&gt;2 远程管理&lt;/h1&gt;&lt;h2 id=&#34;2-1-WOL&#34;&gt;&lt;a href=&#34;#2-1-WOL&#34; class=&#34;headerlink&#34; title=&#34;2.1 WOL&#34;&gt;&lt;/a&gt;2.1 WOL&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;ip 和 mac 绑定，系统和 bios 要开启对应配置 &lt;a href=&#34;https://www.iplaysoft.com/wol.html&#34;&gt;wol 网络唤醒&lt;/a&gt;。如关机后网口灯不亮，说明网卡断电，更新网卡驱动解决。驱动配置中，关闭环保节能和节能乙太网路&lt;/li&gt;
&lt;li&gt;配置 &lt;a href=&#34;https://service.oray.com/question/7996.html&#34;&gt;花生壳内网穿透&lt;/a&gt;（无公网 ip，无法 ddns 和端口映射）&lt;ul&gt;
&lt;li&gt;一个账号只能一台设备，因此已有账号则需要使用子账号的方式，方便实名认证&lt;/li&gt;
&lt;li&gt;padavan(hiboy) 固件可能出现 &amp;#x2F;opt 目录未挂载，导致花生壳无法启动，尝试拔掉 U 盘或重启路由器，正常 &amp;#x2F;opt 挂载为 tmpfs 文件系统&lt;/li&gt;
&lt;li&gt;也可以考虑购买开机棒，但不如买个树莓派了&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;手机测试使用 google play 中的 wake on lan，pc 测试使用 Wake On Lan 又名 aquilaWOL&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-2-U盘访问&#34;&gt;&lt;a href=&#34;#2-2-U盘访问&#34; class=&#34;headerlink&#34; title=&#34;2.2 U盘访问&#34;&gt;&lt;/a&gt;2.2 U盘访问&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;页面 USB 应用程序开启 samba 后，win10 仍无法访问。运行 gpedit.msc，计算机配置 -&amp;gt; 管理模版 -&amp;gt; 网络 -&amp;gt; Laman 工作站，启动不安全的来宾登录&lt;/li&gt;
&lt;li&gt;挂载 USB 可能出现 readonly，格式化 U 盘解决&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;2-3-内网穿透&#34;&gt;&lt;a href=&#34;#2-3-内网穿透&#34; class=&#34;headerlink&#34; title=&#34;2.3 内网穿透&#34;&gt;&lt;/a&gt;2.3 内网穿透&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/410763468&#34;&gt;正向代理、反向代理、内网穿透介绍&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;代理作为客户端，因此可用来隐藏客户端 IP&lt;/li&gt;
&lt;li&gt;代理作为服务器，因此可用来隐藏服务器 IP&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;客户端部分用 proxychains&lt;/li&gt;
&lt;li&gt;路由器&lt;ul&gt;
&lt;li&gt;代理服务器端开内网穿透，注意是否提供源码（目前只有花生壳）或有路由器架构的程序&lt;/li&gt;
&lt;li&gt;转发到本地的 HTTP 代理服务器，使用 &lt;a href=&#34;http://tinyproxy.github.io/&#34;&gt;tinyproxy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;下载 openwrt 交叉编译工具&lt;ul&gt;
&lt;li&gt;对 gcc 找不到 32 位 &lt;code&gt;libz.so.1&lt;/code&gt;，安装 &lt;code&gt;sudo apt-get install zlib1g:i386&lt;/code&gt; 又会提示有风险的情况&lt;ul&gt;
&lt;li&gt;手动下载包 &lt;code&gt;sudo apt-get download zlib1g:i386&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;解压到某个目录 &lt;code&gt;dpkg-deb -R *.deb tmp&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;通过 &lt;code&gt;export LD_LIBRARY_PATH=/tmp&lt;/code&gt; 指定库路径运行 gcc&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;对于提示程序 not found 的情况，gcc -static 静态链接 libc&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;考虑 &lt;a href=&#34;https://freefrp.net/docs.html&#34;&gt;免费 frp 服务&lt;/a&gt;，为了保证内网服务的安全，应开启 TLS、STCP，为效率可开启 KCP。参考 &lt;a href=&#34;https://www.anquanke.com/post/id/231424&#34;&gt;内网渗透代理之frp的应用与改造&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;如从简单考虑，或内网要求严格，可识别出 frp 流量特征，可用 ssh，见 &lt;a href=&#34;/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/%E8%B7%AF%E7%94%B1%E5%99%A8/../linux/#1-1-3-%E9%9A%A7%E9%81%93-%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91&#34;&gt;1.1.3 隧道&amp;#x2F;端口转发&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;3-网络&#34;&gt;&lt;a href=&#34;#3-网络&#34; class=&#34;headerlink&#34; title=&#34;3 网络&#34;&gt;&lt;/a&gt;3 网络&lt;/h1&gt;&lt;h2 id=&#34;3-1-IPv6&#34;&gt;&lt;a href=&#34;#3-1-IPv6&#34; class=&#34;headerlink&#34; title=&#34;3.1 IPv6&#34;&gt;&lt;/a&gt;3.1 IPv6&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;问题：一级路由 IP 前缀改变（PPPoE 重播）后，怀疑光猫配置为 DHCPv6 stateful 导致，二级路由的 IP 无法及时更新&lt;ul&gt;
&lt;li&gt;所以联系客服光猫改桥接，用自己的路由器来控制下级，改前关闭光猫的 WIFI，确认光猫 LAN 口速率，有的光猫只有 LAN1 为千兆&lt;/li&gt;
&lt;li&gt;和安装师傅确认，旧光猫桥接最大支持 500M，千兆网才考虑更换光猫&lt;/li&gt;
&lt;li&gt;测速时，笔记本从本地硬盘启动系统（不从 USB 启动）接到光猫 LAN1 口，设置 PPPoE 拨号，&lt;a href=&#34;https://www.speedtest.cn/&#34;&gt;测速1&lt;/a&gt;、&lt;a href=&#34;https://www.librespeed.cn/&#34;&gt;测速2&lt;/a&gt;、&lt;a href=&#34;http://test.ustc.edu.cn/&#34;&gt;测速3&lt;/a&gt;、&lt;a href=&#34;https://ipw.cn/ipv6/&#34;&gt;IPv6 支持检测&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;联通 500M 测速，ac2100 原版固件 5G WIFI，下行 &amp;gt; 620M，上行 &amp;gt; 40M&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;一级路由用 OpenWrt 以支持 PD 下发和对 DHCPv6 的精确控制&lt;ul&gt;
&lt;li&gt;WAN6 设置 Alias @wan&lt;/li&gt;
&lt;li&gt;LAN 开 Delegate IPv6 prefixes&lt;/li&gt;
&lt;li&gt;LAN 启用 SLAAC，DHCPv6 stateless（&lt;a href=&#34;https://community.arubanetworks.com/community-home/librarydocuments/viewdocument?DocumentKey=3b490d47-3c25-40cb-bbae-8b89b3b90424&amp;CommunityKey=39a6bdf4-2376-46f9-853a-49420d2d0caa&amp;tab=librarydocuments&#34;&gt;RA-Flags&lt;/a&gt; M &amp;#x3D; 0, O &amp;#x3D; 1。实测发现设置 M 也没事），因为与 DHCPv6 stateful 相比，SLAAC 在上级重新拨号地址变化时，下级路由地址能及时更新，&lt;a href=&#34;https://rongrongbq.moe/2021/08/firewall-and-DDNS-settings-for-IPv6/&#34;&gt;参考&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;参考 &lt;a href=&#34;https://bbs.scumaker.org/t/topic/383&#34;&gt;Openwrt IPv6 一级路由时的配置1&lt;/a&gt;（以这个为主）、&lt;a href=&#34;https://post.smzdm.com/p/awzodmpp/&#34;&gt;Openwrt IPv6 一级路由时的配置2&lt;/a&gt;、&lt;a href=&#34;https://www.v2ex.com/t/799717&#34;&gt;IPv6 二级路由器正确配置&lt;/a&gt;、&lt;a href=&#34;https://www.right.com.cn/forum/thread-8193852-1-1.html&#34;&gt;IPv6 相关介绍&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;对上级不下发 PD 时（一般为校园网），二级路由器的配置&lt;ul&gt;
&lt;li&gt;IPv6 中继是 3 层，桥接是 2 层，报文进 3 层配置的防火墙和路由才能生效，因此想简单就用中继，更细的可以只让配置包（SLAAC 与 NDP 包）走 2 层桥接&lt;/li&gt;
&lt;li&gt;参考：&lt;a href=&#34;https://www.right.com.cn/forum/thread-8253827-1-1.html&#34;&gt;中继&lt;/a&gt;、&lt;a href=&#34;https://www.sio.moe/zh-hans/2022/07/14/computer/Network/A-method-for-OpenWRT-secondary-routers-to-obtain-and-assign-IPv6-addresses/&#34;&gt;中继或桥接&lt;/a&gt;、&lt;a href=&#34;https://blog.men.ci/ipv6-slaac-relay-and-bridge&#34;&gt;数据包中继+配置包桥接&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;防火墙，&lt;a href=&#34;https://rongrongbq.moe/2021/08/firewall-and-DDNS-settings-for-IPv6/&#34;&gt;配置防火墙暴露 windows 设备&lt;/a&gt;、&lt;a href=&#34;https://bbs.scumaker.org/t/topic/383&#34;&gt;配置防火墙暴露 linux 设备 token address&lt;/a&gt;、&lt;a href=&#34;https://superuser.com/questions/1181445/allow-traffic-through-a-firewall-to-a-dynamic-ipv6-address&#34;&gt;使用不连续掩码&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;像小米原生固件，没有配置界面的，可用 uci 命令来配，见 CR8808 防火墙部分&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.v2ex.com/t/842947&#34;&gt;IPv6 DDNS&lt;/a&gt;，考虑用一个猜不到的长域名来隐藏 IP&lt;/li&gt;
&lt;li&gt;查看上级是否下发 IPv6-PD 方法，&lt;code&gt;ip -6 r&lt;/code&gt;，default 两条，其中一条 ::&amp;#x2F;60&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;3-2-ShellClash&#34;&gt;&lt;a href=&#34;#3-2-ShellClash&#34; class=&#34;headerlink&#34; title=&#34;3.2 ShellClash&#34;&gt;&lt;/a&gt;3.2 ShellClash&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/juewuy/ShellClash&#34;&gt;ShellClash&lt;/a&gt; 装在外置存储（OpenWrt 是 &amp;#x2F;mnt），订阅必须经过在线转换才能用，Nft基础&amp;#x2F;Nft混合 都可以（新版 OpenWrt 没有 iptables）&lt;/li&gt;
&lt;li&gt;clash 资源占用高，偶尔需要全局透明代理时再开启&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;4-无线桥接&#34;&gt;&lt;a href=&#34;#4-无线桥接&#34; class=&#34;headerlink&#34; title=&#34;4 无线桥接&#34;&gt;&lt;/a&gt;4 无线桥接&lt;/h1&gt;&lt;h2 id=&#34;4-1-padavan（老毛子）&#34;&gt;&lt;a href=&#34;#4-1-padavan（老毛子）&#34; class=&#34;headerlink&#34; title=&#34;4.1 padavan（老毛子）&#34;&gt;&lt;/a&gt;4.1 padavan（老毛子）&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;无线2.4GHz，无线桥接，AP 工作模式 “AP-Client + AP”，无线 AP-Client 角色 “WAN（Wireless ISP）”，选择 SSID，输入密钥&lt;/li&gt;
&lt;li&gt;外部网络（WAN），外网连接类型 “IPoE动态 IP”&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;4-2-openwrt&#34;&gt;&lt;a href=&#34;#4-2-openwrt&#34; class=&#34;headerlink&#34; title=&#34;4.2 openwrt&#34;&gt;&lt;/a&gt;4.2 openwrt&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.ravenxrz.ink/archives/2c9084de.html&#34;&gt;openwrt 无线桥接&lt;/a&gt;，master 向外发射信号，client 接收信号。&lt;a href=&#34;https://einverne.github.io/post/2017/03/openwrt-settings-and-tips.html&#34;&gt;openwrt 接口名&lt;/a&gt;、&lt;a href=&#34;https://www.right.com.cn/forum/thread-4080096-1-1.html&#34;&gt;红米 ac2100 无线中继 client 模式&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;红米 ac2100 的固件中，无线中继后会生成接口 apcli0 (对于 5G 是 apclii0)。在接口设置中，把这个接口设置成 wan 口的物理接口，替换调原来的 eth0.1&lt;/li&gt;
&lt;li&gt;apcli0 (wan 口) 的网关和 dns 设置成上级的 ip（如 192.168.0.1），接口 ip 设置成与上级同一网段（如 192.168.0.2）&lt;/li&gt;
&lt;li&gt;lan 口是 eth0.2、ra0、rai0 的桥接，ip 设置为内网要分配的网段，网关、dns 设为 wan 口的 ip（如 192.168.0.2）&lt;/li&gt;
&lt;li&gt;接口设置完后可能要在无线中“重启无线”，接下来 lan 口的桥接可能又把 apcli0、apclii0 加回来了，再去掉&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;5-HTTP-3-TLS-1-3&#34;&gt;&lt;a href=&#34;#5-HTTP-3-TLS-1-3&#34; class=&#34;headerlink&#34; title=&#34;5 HTTP/3  TLS 1.3&#34;&gt;&lt;/a&gt;5 HTTP/3  TLS 1.3&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;TLS&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.cloudflare.com/learning/ssl/what-happens-in-a-tls-handshake/&#34;&gt;握手流程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.cloudflare.com/rfc-8446-aka-tls-1-3/&#34;&gt;TLS 1.3 介绍&lt;/a&gt;、&lt;a href=&#34;https://www.davidwong.fr/tls13/&#34;&gt;TLS 1.3 详细介绍&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.cloudflare.com/encrypted-sni/&#34;&gt;ESNI（目前只有 cloudflare 支持）&lt;/a&gt;、&lt;a href=&#34;https://blog.cloudflare.com/encrypted-client-hello/&#34;&gt;ECH&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;HTTP&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://http3-explained.haxx.se/zh/why-quic&#34;&gt;QUIC&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.cloudflare.com/learning/performance/http2-vs-http1.1/&#34;&gt;HTTP2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.cloudflare.com/learning/performance/what-is-http3/&#34;&gt;HTTP3&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://synrst.de/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/windows/</guid>
            <title>windows</title>
            <link>https://synrst.de/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/windows/</link>
            <pubDate>Thu, 01 Jan 1970 08:00:00 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;1-清理旧文件&#34;&gt;&lt;a href=&#34;#1-清理旧文件&#34; class=&#34;headerlink&#34; title=&#34;1 清理旧文件&#34;&gt;&lt;/a&gt;1 清理旧文件&lt;/h1&gt;&lt;p&gt;删除没有权限的文件夹&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;文件夹属性 -&amp;gt; 安全 -&amp;gt; 高级 -&amp;gt; 更改所有者 -&amp;gt; 输入自己的用户名 -&amp;gt; 选择下面应用到子文件夹的勾 -&amp;gt; 确定所有对话框&lt;/li&gt;
&lt;li&gt;文件夹属性 -&amp;gt; 安全 -&amp;gt; 高级 -&amp;gt; 权限添加 -&amp;gt; 主体为自己的用户名 -&amp;gt; 勾选下面的继承权限&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;2-搭建&#34;&gt;&lt;a href=&#34;#2-搭建&#34; class=&#34;headerlink&#34; title=&#34;2 搭建&#34;&gt;&lt;/a&gt;2 搭建&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;安装 PE 环境到 U 盘，PE 环境尽量不更新，否则 DG 版本更新后之前的系统备份是否还能兼容&lt;ul&gt;
&lt;li&gt;用 Edgeless PE，&lt;a href=&#34;https://wiki.edgeless.top/v2/guide/burn.html&#34;&gt;写入&lt;/a&gt; 时选择预留分区，大小为 U 盘容量 - 1G，即给前面的 PE 留出 1G 空间&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;PE 环境下加载 ISO 镜像（镜像选择专业版），运行 source 下的 setup&lt;ul&gt;
&lt;li&gt;对 Win11 用 Windows 安装器加载镜像安装，绕过 TPM 2.0&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;更新系统、自动装驱动&lt;/li&gt;
&lt;li&gt;关闭更新&lt;/li&gt;
&lt;li&gt;修改桌面、文档等路径&lt;/li&gt;
&lt;li&gt;激活系统，HEU_KMS_Activator 激活 Office 和 Windows&lt;/li&gt;
&lt;li&gt;安装字体，设置 npp、typora、obsidian、系统字体&lt;/li&gt;
&lt;li&gt;Win11&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=p72srXZgOmk&#34;&gt;让系统时钟显示秒数&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;蓝牙丢失的情况，关机、断电源后，等一分钟，启动可恢复&lt;/li&gt;
&lt;li&gt;蓝牙音量无法调节，regedit 的 &lt;code&gt;计算机\HKEY_LOCAL_MACHINE\SYSTEM\ControlSet001\Control\Bluetooth\Audio\AVRCP\CT&lt;/code&gt; 中 DisableAbsoluteVolume 改为 1，&lt;a href=&#34;https://answers.microsoft.com/zh-hans/windows/forum/all/windows10%E6%9B%B4%E6%96%B01803/7fc4f1ca-46be-4b13-8133-0eb56ad9e44d&#34;&gt;参考&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;修复引导后，在 msconfig 引导中删除旧引导&lt;/li&gt;
&lt;li&gt;导入 reg 目录下其它配置，如用图片查看器打开图片&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.elevenforum.com/t/disable-show-more-options-context-menu-in-windows-11.1589/&#34;&gt;使用传统右键菜单命令&lt;/a&gt; &lt;code&gt;reg add &amp;quot;HKCU\Software\Classes\CLSID\{86ca1aa0-34aa-4e8b-a509-50c905bae2a2}\InprocServer32&amp;quot; /f /ve&lt;/code&gt;，恢复 &lt;code&gt;reg delete &amp;quot;HKCU\Software\Classes\CLSID\{86ca1aa0-34aa-4e8b-a509-50c905bae2a2}&amp;quot; /f&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-1-虚拟机安装精简版-Win10&#34;&gt;&lt;a href=&#34;#2-1-虚拟机安装精简版-Win10&#34; class=&#34;headerlink&#34; title=&#34;2.1 虚拟机安装精简版 Win10&#34;&gt;&lt;/a&gt;2.1 虚拟机安装精简版 Win10&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;VMware 创建一个虚拟机，分配空白的硬盘&lt;/li&gt;
&lt;li&gt;插入 PE U 盘，启动，将 U 盘连接到虚拟机，重启后会从 U 盘启动&lt;ul&gt;
&lt;li&gt;更改 vmvare BIOS 启动顺序，重启后直接按 ESC 选择 USB（连接到虚拟机），如不行再试下面的&lt;/li&gt;
&lt;li&gt;编辑虚拟机名称的 vmx 文件，添加 &lt;code&gt;bios.bootdelay=&amp;quot;5000&amp;quot;&lt;/code&gt;，然后重启按 ESC&lt;/li&gt;
&lt;li&gt;ESC: 调整启动顺序，F2: 进入BIOS Setup&lt;/li&gt;
&lt;li&gt;要还原回去添加 &lt;code&gt;bios.forceSetupOnce = &amp;quot;FALSE&amp;quot;&lt;/code&gt; 再重启一次，&lt;a href=&#34;https://blog.51cto.com/u_15338523/3592954&#34;&gt;参考&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;从 uupdump.net 选择最新的 x64 Feature Update，&lt;a href=&#34;https://github.com/uup-dump-dev/website-public/blob/master/FAQ.md&#34;&gt;参考&lt;/a&gt;、&lt;a href=&#34;https://docs.atlasos.net/getting-started/installation/&#34;&gt;参考2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;下载 &lt;a href=&#34;https://ameliorated.io/&#34;&gt;AME Wizard&lt;/a&gt; 和 ReviOS Playbook，运行&lt;/li&gt;
&lt;li&gt;也可用 VMwareHorizonOSOptimizationTool，&lt;a href=&#34;https://www.youtube.com/watch?v=T-SuNdocch0&#34;&gt;相关介绍&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;3-软件安装&#34;&gt;&lt;a href=&#34;#3-软件安装&#34; class=&#34;headerlink&#34; title=&#34;3 软件安装&#34;&gt;&lt;/a&gt;3 软件安装&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;没必要储存的大安装文件，一律以 0 字节的 &lt;code&gt;name.2big&lt;/code&gt; 占位&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- DB start --&gt;

&lt;h2 id=&#34;3-1-试用中&#34;&gt;&lt;a href=&#34;#3-1-试用中&#34; class=&#34;headerlink&#34; title=&#34;3.1 试用中&#34;&gt;&lt;/a&gt;3.1 试用中&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;试用中&lt;/th&gt;
&lt;th&gt;配置&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;BurpSuite&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Fiddler&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;nodesCatch&lt;/td&gt;
&lt;td&gt;节点测延迟和测速，双内核，用来选机场节点和过滤免费节点。必要时改测速下载文件，因为机场可能封锁某些常用下载文件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;incontrol&lt;/td&gt;
&lt;td&gt;锁定 windows 版本，不更新&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;h2 id=&#34;3-2-必装&#34;&gt;&lt;a href=&#34;#3-2-必装&#34; class=&#34;headerlink&#34; title=&#34;3.2 必装&#34;&gt;&lt;/a&gt;3.2 必装&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;必装&lt;/th&gt;
&lt;th&gt;配置&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;驱动&lt;/td&gt;
&lt;td&gt;使用联想驱动工具安装。驱动文件、主机编号、保修时间，见目录显卡驱动-IntelVideo、电源 ACPI-n2hku54w_x64、主板 intelchip-r0pch04w，两个蓝牙驱动&lt;br /&gt;显示设置中缩放与布局设置为 125%，但偶尔会出现任务栏显示位置不正常的问题，通过设置分辨率为 1366X768 来放大显示&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;字体与主题&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Clash.for.Windows&lt;/td&gt;
&lt;td&gt;- 设置开机启动，节点切换自动断开&lt;br/&gt;- 手动调用 command.bat 里面的命令安装 service，及手动删除 service 解决“红色地球”问题，&lt;a href=&#34;https://github.com/Fndroid/clash_for_windows_pkg/issues/3412&#34;&gt;参见&lt;/a&gt;&lt;br /&gt;- 可能对 clash 订阅的规则不满意，因此见下面 clash 自定义部分&lt;br /&gt;&lt;a href=&#34;https://merlinblog.xyz/wikipageguide.html&#34;&gt;所有平台客户端汇总&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Firefox&lt;/td&gt;
&lt;td&gt;- 参考 &lt;a href=&#34;https://helgeklein.com/blog/2009/08/moving-the-firefox-cache-directory-and-profile-separately/&#34;&gt;这个方法&lt;/a&gt; 改变 default-release 那个 profile 位置，cache 位置就不用改了。还原 profile，还原 profile 时扩展需要关闭一下重开，账户可能要重新绑定&lt;br /&gt;- 临时使用 AHK 脚本支持欧路双击取词&lt;br /&gt;- 如果需要隐藏顶部标签栏、标题栏、侧栏标题，&lt;a href=&#34;https://medium.com/@Aenon/firefox-hide-native-tabs-and-titlebar-f0b00bdbb88b&#34;&gt;参照这个&lt;/a&gt;，但不要添加 windows 按钮那个 CSS&lt;br /&gt;- about:config 设置 browser.urlbar.openintab 为 true，搜索结果新 tab 打开&lt;br /&gt;- favicons 不更新，手动删除 &lt;a href=&#34;https://superuser.com/questions/1259660/wrong-favicons-in-firefox&#34;&gt;favicons.sqlite&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BANDIZIP&lt;/td&gt;
&lt;td&gt;- 设置文件类型关联&lt;br /&gt;- 设置解压和压缩右键菜单&lt;br /&gt;- 设置解压后自动关闭窗口，打开解压文件夹&lt;br /&gt;- 不要更新，新版有广告&lt;br /&gt;不支持添加文件到 7z，可以用 7zip&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PotPlayer&lt;/td&gt;
&lt;td&gt;- 设置文件类型关联&lt;br /&gt;- 设置打开新文件时在当前进程，不新建进程&lt;br /&gt;- 字幕缓冲量设为 0 避免弹幕抖动（仅新版需要）&lt;br /&gt;- 最新版会有广告，关闭更新&lt;br /&gt;- 下载的 ass 弹幕避免占满整个屏幕，可修改 PlayResY，如 1080 分辨率高度占 0.8 高度为 1080&amp;#x2F;0.8&amp;#x3D;1350&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;GoogleDrive&lt;/td&gt;
&lt;td&gt;土区年付 100G，替换 Dropbox&lt;br /&gt;两种用法&lt;br/&gt;- 与 Dropbox 相同的用法。一般用云端硬盘，切换到“镜像文件”方式同步（非在线方式），点击“文件夹”，选择要同步的文件夹&lt;br/&gt;- 与百度云相同的用法。即只想备份到云，不想与其它设备同步使用“我的计算机”同步&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Cryptomator&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Obsidian&lt;/td&gt;
&lt;td&gt;笔记管理软件，typora 作为它的外部编辑器&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;typora&lt;/td&gt;
&lt;td&gt;- 打开主题文件夹放置 &lt;code&gt;base.user.css&lt;/code&gt;  字体和界面宽度设置文件 ，见 &lt;code&gt;typora&lt;/code&gt; 文件夹&lt;br /&gt;- 其它偏好设置&lt;br /&gt;- 目前两个 Bug，会在列表间加空行变成 lose list；被该用 tab 缩进，变成两个空格&lt;br /&gt;  第一个用 lint 插件解决，第二个用搜索替换 “(^\t*)  “ 替换为 “$1	“&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;HEU_KMS_Activator&lt;/td&gt;
&lt;td&gt;office 和 windows 激活工具&lt;br /&gt;激活时关闭实时扫描，排除 System32\kms-renewal.exe 和 SECOPatcher.dll&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Chrome&lt;/td&gt;
&lt;td&gt;第二浏览器&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;火绒&lt;/td&gt;
&lt;td&gt;替换系统杀毒&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;傲梅轻松备份&lt;/td&gt;
&lt;td&gt;一份安装版、一份 PE 版，尽量不升级&lt;br /&gt;关机时备份需关闭 “快速启动”&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;—下面开始是免安装软件—&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;wiztree&lt;/td&gt;
&lt;td&gt;显示磁盘空间占用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SumatraPDF&lt;/td&gt;
&lt;td&gt;关联 PDF 格式&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;KeePass&lt;/td&gt;
&lt;td&gt;为了安全设定自动锁定时间&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;npp&lt;/td&gt;
&lt;td&gt;修改字体和字体大小&lt;br /&gt;点 ？以管理员启动设置更新代理服务器，在插件中安装 compare&lt;br /&gt;修改设置中的备份，简单备份改为冗余备份，设置自定义文件夹。每次保存都会在这里记录一份旧的&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;OneCommander&lt;/td&gt;
&lt;td&gt;clover 的替代品，防火墙禁止联网防止总提示更新&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ContextMenuManager&lt;/td&gt;
&lt;td&gt;右键菜单，&lt;a href=&#34;https://github.com/BluePointLilac/ContextMenuManager/releases&#34;&gt;官方下载&lt;/a&gt;。清理显卡，添加 MSYS2 到 目录和目录背景，其中命令为 &lt;code&gt;D:\soft\msys64\msys2_shell.cmd -msys -where %v&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Everything&lt;/td&gt;
&lt;td&gt;空格表示与，| 表示或，”” 中是真的空格。限定搜索范围，支持简单正则&lt;br /&gt;简单的 FTP、HTTP 服务器&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;calibre&lt;/td&gt;
&lt;td&gt;epub 等格式的电子阅读器&lt;br /&gt;kindle 数据格式转换与管理。新版运行有问题，可能是多显示器的原因，总之维持旧版&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;KopiaUI&lt;/td&gt;
&lt;td&gt;增量备份。额外添加 VSS 脚本和 kopiaignore 模板&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;alist&lt;/td&gt;
&lt;td&gt;国内网盘转 webdav&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;rclone&lt;/td&gt;
&lt;td&gt;webdav&amp;#x2F;国外网盘 挂载、同步，给 KopiaUI 提供支持&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;h2 id=&#34;3-3-虚拟机安装&#34;&gt;&lt;a href=&#34;#3-3-虚拟机安装&#34; class=&#34;headerlink&#34; title=&#34;3.3 虚拟机安装&#34;&gt;&lt;/a&gt;3.3 虚拟机安装&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;虚拟机安装&lt;/th&gt;
&lt;th&gt;配置&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;TIM&lt;/td&gt;
&lt;td&gt;查考&lt;a href=&#34;https://www.zhihu.com/question/265963430/answer/2492603110&#34;&gt;这个&lt;/a&gt;删除 QQProtect&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;WeChat&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;百度网盘&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;阿里云盘&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PikPak_By_Shimily&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BitComet_v1.87_Stable_Mod&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;h2 id=&#34;3-4-建议安装&#34;&gt;&lt;a href=&#34;#3-4-建议安装&#34; class=&#34;headerlink&#34; title=&#34;3.4 建议安装&#34;&gt;&lt;/a&gt;3.4 建议安装&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;建议安装&lt;/th&gt;
&lt;th&gt;配置&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;欧路词典与配置&lt;/td&gt;
&lt;td&gt;GoldenDict 和 欧路词典共用的词典&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;欧路词典&lt;/td&gt;
&lt;td&gt;- 参考 环境-&amp;gt; 词典软件 设置。词典在“Dictionary在用”&lt;br /&gt;- 用 AutoHotkey 脚本，设置划词快捷键 Ctrl + F10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SecureCRT&lt;/td&gt;
&lt;td&gt;见 linux 文档 SecureCRT 配置问题。配置备份在 VanDyke_Config.zip ，可直接覆盖&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vcxsrv&lt;/td&gt;
&lt;td&gt;替代 xming（有 bug、新版本收费），新建快捷方式 “D:\soft\VcXsrv\vcxsrv.exe :0 -clipboard -multiwindow -dpi 108”&lt;br /&gt;添加到 windows 启动中，C:\ProgramData\Microsoft\Windows\Start Menu\Programs\StartUp&lt;br /&gt; &lt;a href=&#34;https://aufather.wordpress.com/2010/11/21/increasing-font-size-in-xming-server/&#34;&gt;指定 dpi&lt;/a&gt; &lt;code&gt;-dpi 108&lt;/code&gt; 来增加文字大小&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;VMware-workstation&lt;/td&gt;
&lt;td&gt;ZF3R0-FHED2-M80TY-8QYGC-NPKYF &lt;a href=&#34;https://www.ghxi.com/vmware15.html&#34;&gt;参考&lt;/a&gt;&lt;br /&gt;- 安装时勾选自动安装 WHP（基于 Hyper-V）。解释见 &lt;a href=&#34;https://www.jianshu.com/p/c02f776a65cd&#34;&gt;Hyper-V 和 VMWare 终于可以无缝共存&lt;/a&gt;、&lt;a href=&#34;https://zhuanlan.zhihu.com/p/381969738&#34;&gt;Windows 下各种虚拟化名词解释&lt;/a&gt;&lt;br /&gt;- 创建虚拟机，不要勾选虚拟化引擎 Intel VT-x 这些，因为 Hyper-V 底层已经用到这些技术了&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;office 2021（Office LTSC 专业增强版 2021（SPLA））&lt;/td&gt;
&lt;td&gt;1. 先卸载旧的 office，再用 OTP 工具的激活选项卡清除旧的激活信息，重启&lt;br/&gt;2. 用 OTP 通道： Office 2021 企业长期版，产品：Office LTSC 专业增强版 2021（SPLA）&lt;br /&gt;3. 在 OTP 中设置 KMS 服务器激活，&lt;a href=&#34;https://www.bilibili.com/read/cv19851359/&#34;&gt;参考&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Office Tool Plus&lt;/td&gt;
&lt;td&gt;用来选择安装哪些组件和激活管理&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;pandoc&lt;/td&gt;
&lt;td&gt;配合 typora 导入、导出各种格式文档&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;telegram&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;xmind&lt;/td&gt;
&lt;td&gt;比起 mindmaster 没有节点数限制，xmind 8 绿色版，免费导出 svg，适合画调用关系图&lt;br /&gt;xmind 2020 适合画大纲，导出 markdown，图不大时截图配在文章中&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;msys2&lt;/td&gt;
&lt;td&gt;建议这个代替 git&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Meld&lt;/td&gt;
&lt;td&gt;windows 版&lt;a href=&#34;http://meldmerge.org/&#34;&gt;下载&lt;/a&gt;，用于 git 或其它比较&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;python&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;node&lt;/td&gt;
&lt;td&gt;博客搭建使用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CLion&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;pycharm&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ja-netfilter-all&lt;/td&gt;
&lt;td&gt;参考 &lt;a href=&#34;https://www.jiweichengzhu.com/article/4bcb140d5035426f9da3dea46f564e4d&#34;&gt;这篇文章&lt;/a&gt; 运行脚本激活，从这里 &lt;a href=&#34;https://jetbra.in/s&#34;&gt;zhile 下载和激活码&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;7z&lt;/td&gt;
&lt;td&gt;备用的解压缩软件，负责备份 firefox 时的命令行工具，提供 hash 右键菜单&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Wireshark&lt;/td&gt;
&lt;td&gt;抓包。更新到 3.2.3 安装 usbpcap 后可以识别 USB 网卡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;spacedesk&lt;/td&gt;
&lt;td&gt;平板做显示器，支持多台，无线连接&lt;br /&gt;不要改安装路径，否则触摸屏不好用，&lt;br /&gt;防火墙要放开 C:\Windows\System32\spacedeskService.exe&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DeskPins&lt;/td&gt;
&lt;td&gt;窗口置顶软件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;逍遥模拟器&lt;/td&gt;
&lt;td&gt;下载国际版，广告少一些&lt;br /&gt;支持微信平板登陆，分辨率修改为 1600X900，dpi 修改为 240&lt;br /&gt;雷电模拟器出现开启 AMD VT 后无法启动&lt;br /&gt;&lt;a href=&#34;https://www.cnblogs.com/jsubaron/p/16230491.html&#34;&gt;虚拟机里跑模拟器&lt;/a&gt;，可以试试&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;喵喵机&lt;/td&gt;
&lt;td&gt;喵喵机 PC 打印程序&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;IDM&lt;/td&gt;
&lt;td&gt;破解版，用于下载 Youtube 视频&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CP2102六合一&lt;/td&gt;
&lt;td&gt;win 10 可用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;MouseWithoutBorders&lt;/td&gt;
&lt;td&gt;取消一些快捷键，避免冲突&lt;br /&gt;如果改了 dns，可能需要设置 ip mapping&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Microsoft.WindowsTerminal&lt;/td&gt;
&lt;td&gt;可启用透明效果的 github 版本&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;wireguard&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;—下面开始是免安装软件—&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;WinSCP&lt;/td&gt;
&lt;td&gt;FTP、SFTP 等，在 session 的 高级设置中 UTF-8 encoding for filename 用来支持中文名&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;调试助手&lt;/td&gt;
&lt;td&gt;串口调试助手&amp;#x2F;网络调试助手&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ADB&lt;/td&gt;
&lt;td&gt;adb 工具和 usb 驱动&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;IntelliJ IDEA&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;jdk&lt;/td&gt;
&lt;td&gt;JDK、JDK Docs&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;VSCode&lt;/td&gt;
&lt;td&gt;创建 data 文件夹，开启 &lt;a href=&#34;https://code.visualstudio.com/docs/editor/portable&#34;&gt;portable mode&lt;/a&gt;&lt;br /&gt;其它参照 IDE 文档配置&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;gtags&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PDF处理工具&lt;/td&gt;
&lt;td&gt;操作见“电子书处理”文档&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DeDRM_tools&lt;/td&gt;
&lt;td&gt;DRM 移除插件，租借书籍 &lt;a href=&#34;https://www.reddit.com/r/Piracy/comments/ezenaa/how_to_remove_drm_from_an_amazon_kindle_rented/&#34;&gt;注释掉 rented 两行代码&lt;/a&gt; 后可以用，已经加入改后版本&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cmake&lt;/td&gt;
&lt;td&gt;只使用 gui 程序，命令行用 msys2 的&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;AutoHotkey&lt;/td&gt;
&lt;td&gt;用于，推 gal 翻页笔映射脚本，欧路词典取词脚本&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Bulk Rename Utility&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;哔哩下载姬&lt;/td&gt;
&lt;td&gt;B 站视频、弹幕下载&lt;br /&gt;ass 弹幕的 PlayResY 乘以 2 实现半屏弹幕播放&lt;br /&gt;同时搭配 MPC-HC，避免 potplayer 引起的闪屏&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Dism++&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://github.com/Chuyu-Team/Dism-Multi-language&#34;&gt;下载&lt;/a&gt;，清理系统空间、引导修复&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Hourglass&lt;/td&gt;
&lt;td&gt;倒计时软件，&lt;a href=&#34;https://chris.dziemborowicz.com/apps/hourglass/&#34;&gt;官网帮助文档&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;硬盘&lt;/td&gt;
&lt;td&gt;坏道检查、分区、&lt;a href=&#34;https://www.bilibili.com/video/BV1ev4y1v7wY&#34;&gt;硬盘信息查看&lt;/a&gt;，CrystalDiskInfo 原始值十进制显示&lt;br /&gt;DiskGenius &lt;a href=&#34;https://www.diskgenius.cn/bbs/forum.php?mod=forumdisplay&amp;fid=5&#34;&gt;官方论坛&lt;/a&gt; 有 PE 版，即单文件版&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;galgame&lt;/td&gt;
&lt;td&gt;翻译器、全屏 Magpie、提取文字 MisakaHookFinder&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Image-Anti-OCR-main&lt;/td&gt;
&lt;td&gt;图片加干扰对抗百度贴吧 OCR&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bilinovel2epub&lt;/td&gt;
&lt;td&gt;哔哩轻小说转 epub&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Umi-OCR&lt;/td&gt;
&lt;td&gt;离线 OCR 软件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Simple-Web-Server&lt;/td&gt;
&lt;td&gt;给 obsidian media extended 提供一个简易的 http 服务器&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Snipaste&lt;/td&gt;
&lt;td&gt;截图、贴图工具，配合 obsidian 使用&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;h2 id=&#34;3-5-不常安装&#34;&gt;&lt;a href=&#34;#3-5-不常安装&#34; class=&#34;headerlink&#34; title=&#34;3.5 不常安装&#34;&gt;&lt;/a&gt;3.5 不常安装&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;不常安装&lt;/th&gt;
&lt;th&gt;配置&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;Arm Keil MDK&lt;/td&gt;
&lt;td&gt;包含 STM32F1 pack&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Git&lt;/td&gt;
&lt;td&gt;可用 msys2 里的 git 替代&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kindle-for-pc&lt;/td&gt;
&lt;td&gt;DeDRM 推荐的版本&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sshfs&lt;/td&gt;
&lt;td&gt;先装 winfsp (Cryptomator 也装了 winfsp)，然后装 &lt;a href=&#34;https://github.com/billziss-gh/sshfs-win&#34;&gt;sshfs&lt;/a&gt; 64位&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Beyond Compare&lt;/td&gt;
&lt;td&gt;windows 防火墙高级设置，添加出站规则，禁止 BC 主程序联网防止过期&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;KindleMate&lt;/td&gt;
&lt;td&gt;kindle 单词与笔记管理&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Proxifier&lt;/td&gt;
&lt;td&gt;代替 netch，给 GoogleDrive 用&lt;br /&gt;不要用 Portable 即 PE 版，功能不全，会导致 chrome 挂掉&lt;br /&gt;5EZ8G-C3WL5-B56YG-SCXM9-6QZAP&lt;br /&gt;先创建 Proxy Servers，然后创建 rule 匹配规则&lt;br /&gt;为了保险，name resolution 中通过代理解析&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;VirtualBox&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;WIFI-FC-5&lt;/td&gt;
&lt;td&gt;Blink USB 无线网卡驱动&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BTSync&lt;/td&gt;
&lt;td&gt;分布式同步软件，下载书籍&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;串口工具&lt;/td&gt;
&lt;td&gt;SerialPortMonitor 串口通信数据监控 &lt;br /&gt;Virtual Serial Port Driver，串口转发工具&lt;br /&gt;破解有14天时间限制，尝试 windows 虚拟机快照&lt;br /&gt;串口桥接、虚拟串口、多虚一、一虚多&lt;br /&gt;使用 Complex 模式，IN 和 OUT 各创建一个虚口用来监控和发送流量&lt;br /&gt;最后 IN 和 OUT 各两个口。也可用 redirect 模式，然后用串口监听软件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;device-monitoring-studio&lt;/td&gt;
&lt;td&gt;串口通信数据监控&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PL23XX_Prolific_DriverInstaller&lt;/td&gt;
&lt;td&gt;PL2303 串口驱动&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CH341SER&lt;/td&gt;
&lt;td&gt;ch340 串口驱动&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DualMonitorTools&lt;/td&gt;
&lt;td&gt;多显示器设置不同壁纸&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;函数调用生成&lt;/td&gt;
&lt;td&gt;doxygen graphviz htmlhelp，生成项目文档，生成函数调用图 call graph&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vs_Community&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://blog.lindexi.com/post/VisualStudio-2019-%E5%A6%82%E4%BD%95%E7%A6%BB%E7%BA%BF%E4%B8%8B%E8%BD%BD.html&#34;&gt;VisualStudio 2019 如何离线下载&lt;/a&gt;&lt;br /&gt;下载&lt;br/&gt;vs_Community.exe –layout d:\vslayout  ^&lt;br/&gt;–add Microsoft.VisualStudio.Workload.ManagedDesktop  ^&lt;br/&gt;–add Microsoft.VisualStudio.Workload.NativeCrossPlat  ^&lt;br/&gt;–add Microsoft.VisualStudio.Workload.NativeDesktop  ^&lt;br/&gt;–add Microsoft.VisualStudio.Workload.VisualStudioExtension –includeOptional ^&lt;br/&gt;–add Component.GitHub.VisualStudio ^&lt;br/&gt;–lang zh-CN –addProductLang en-US&lt;br /&gt;下载命令添加 –fix 用于断点续传，有个 arm 包速度很慢挂代理&lt;br/&gt;安装，进入前面指定的 layout 文件夹，输入前面的下载命令去掉 –layout 和 –lang 的部分。取消再选择可以节省空间，可以不全部选择。但要保留下载缓存文件夹，否则以后无法修改功能&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;get_iplayer&lt;/td&gt;
&lt;td&gt;BBC 下载，无 DRM，自动转 mp4、srt 字幕&lt;br /&gt;&lt;code&gt;C:\Users\user_name\.get_iplayer\options&lt;/code&gt; 中添加，只下载有字幕的视频，设置默认保存路径&lt;br /&gt;output D:\Videos\BBC&lt;br/&gt;subtitles 1&lt;br/&gt;subsrequired 1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;All Netflix Categories&lt;/td&gt;
&lt;td&gt;netflix 隐藏类别 chrome 插件，解压缩后安装&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Thunderbird&lt;/td&gt;
&lt;td&gt;用来替代 foxmail 的邮件客户端&lt;br /&gt;备份与恢复与 firefox 一样，配置文件是 &lt;code&gt;%userprofile%\appdata\roaming\thunderbird\profiles.ini&lt;/code&gt;&lt;br /&gt;配置储存在 &lt;code&gt;%userprofile%\appdata\roaming\thunderbird\profiles\XXXXXX.default-release&lt;/code&gt;&lt;br /&gt;删除旧的用新的覆盖即可&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;TortoiseSVN&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;EaseUS BitWiper&lt;/td&gt;
&lt;td&gt;擦除磁盘数据，500G 需 1h&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;K-Lite_Codec_Pack&lt;/td&gt;
&lt;td&gt;MPC-HC 播放 B 站视频弹幕不闪屏（不像 potplayer）&lt;br /&gt;不要装 mediainfo 会有右键菜单，也可装后再次运行安装文件卸载掉&lt;br /&gt;用来显示视频文件缩略图，可只勾选 Explorer Shell Extensions 里面的两个&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;字幕查找-生成-处理工具&lt;/td&gt;
&lt;td&gt;查找在线字幕，繁简转换&lt;br /&gt;autosub（包括讯飞的配置文件）、aegisub、剪映&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;—下面开始是免安装软件—&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cover 字幕遮挡软件&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tftpd&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;rufus&lt;/td&gt;
&lt;td&gt;将系统镜像烧录到U盘&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;TextEditor&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;星号查看&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;硬件检测&lt;/td&gt;
&lt;td&gt;cpu-z&lt;br /&gt;thphn 内存颗粒检测&lt;br /&gt;AIDA64，软硬件检测，可以定时生成日志&lt;br /&gt;内存超频后的测试&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ComHub&lt;/td&gt;
&lt;td&gt;通过启用 telnet 共享本地 com 口&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PacketSender&lt;/td&gt;
&lt;td&gt;发包软件，偏上层，不关心构造包&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;xcap&lt;/td&gt;
&lt;td&gt;发包软件，手动构造包&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ostinato&lt;/td&gt;
&lt;td&gt;发包软件，开源，支持协议多，linux 和 windows 都可用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;GoldenDict&lt;/td&gt;
&lt;td&gt;参考 环境-&amp;gt; 词典软件设置&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Ditto&lt;/td&gt;
&lt;td&gt;剪贴板管理和共享，使用介绍 &lt;a href=&#34;https://www.playpcesor.com/2011/02/ditto.html&#34;&gt;https://www.playpcesor.com/2011/02/ditto.html&lt;/a&gt;&lt;br /&gt;如果要局域网共享，去掉禁止接收选项，双方填入对方的计算机名和相同的网络密码，接收密码没有填，远程文件选择主机名方式，下面的发送列表添加对方主机名并选择发送全部&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bLend&lt;/td&gt;
&lt;td&gt;窗口透明化&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Glass2k&lt;/td&gt;
&lt;td&gt;窗口置顶与透明&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;WinHex&lt;/td&gt;
&lt;td&gt;十六进制编辑器，正常已注册，user.txt 为注册信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;鼠大侠鼠标连点器&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;EV录屏&lt;/td&gt;
&lt;td&gt;可以录制系统声音&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Bandicam&lt;/td&gt;
&lt;td&gt;另一个录屏软件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;FastStone Capture&lt;/td&gt;
&lt;td&gt;屏幕截图与录像&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;音频提取&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://www.zhihu.com/question/266085808/answer/768016788&#34;&gt;怎样将视频中的音频提取出来？&lt;/a&gt;&lt;br /&gt;mkvtoolnix &amp;#x2F; gMKVExtractGUI&lt;br /&gt;Pazera_Free_Audio_Extractor 比 mkvtoolnix 支持的多一些&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SQLiteSpy&lt;/td&gt;
&lt;td&gt;sqlite 查看工具&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Folder2Iso&lt;/td&gt;
&lt;td&gt;将文件夹制作成 ISO&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PSTools&lt;/td&gt;
&lt;td&gt;PsExec，用来以 SYSTEM 用户执行命令&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;WinCryptHashers&lt;/td&gt;
&lt;td&gt;给 7z 添加 hash 算法。解压到 7zip 目录，新建 Codecs 文件夹&lt;br /&gt;用法，右键 CRC SHA 选择 * 或添加到压缩文件，选 hash 算法，&lt;a href=&#34;https://www.tc4shell.com/en/7zip/wincrypthashers/&#34;&gt;参考&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;VeraCrypt&lt;/td&gt;
&lt;td&gt;用在 U 盘上&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;foobar2000&lt;/td&gt;
&lt;td&gt;音乐转换，如 wav + cue 转 flac 分轨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sdr-Cleaner_win&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Quick_Any2Ico&lt;/td&gt;
&lt;td&gt;提取程序图标 ICO、png&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;QtScrcpy&lt;/td&gt;
&lt;td&gt;手机控制&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;gui-inspect-tool&lt;/td&gt;
&lt;td&gt;pywinauto 推荐的工具，也可配合 AHK 用&lt;br /&gt;spyplusplus 可用来查看 windows message&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;h2 id=&#34;3-6-淘汰备份&#34;&gt;&lt;a href=&#34;#3-6-淘汰备份&#34; class=&#34;headerlink&#34; title=&#34;3.6 淘汰备份&#34;&gt;&lt;/a&gt;3.6 淘汰备份&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;淘汰备份&lt;/th&gt;
&lt;th&gt;淘汰原因&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;迅雷 X&lt;/td&gt;
&lt;td&gt;来源 &lt;a href=&#34;https://axutongxue.com/&#34;&gt;阿虚储物间&lt;/a&gt;，用 IDM&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;迅雷 5.8&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;HEVC 视频扩展(windows store)&lt;/td&gt;
&lt;td&gt;目前这样设置后会卡，先不用&lt;br /&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/516579045&#34;&gt;看 Netflix 4k&lt;/a&gt;&lt;br /&gt;显示设置，3840×2160，60HZ&lt;br /&gt;edge:&amp;#x2F;&amp;#x2F;gpu 搜索 HEVC，以下为 true&lt;br /&gt;HEVC installed&amp;#x2F;HEVC activable&amp;#x2F;HDCP 2.2 support&amp;#x2F;HEVC - 4K support&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SyncFolders&lt;/td&gt;
&lt;td&gt;U 盘与电脑同步软件。同步方式选择 PC 到 U 盘的 备份方式&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;AllDRMRemoval&lt;/td&gt;
&lt;td&gt;移除 DRM，不支持租借书籍&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;NetLimiter&lt;/td&gt;
&lt;td&gt;破解&lt;br /&gt;设置最小化和关闭到托盘，关闭更新&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;手心输入法&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Shadowsocks&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ShadowsocksR&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sourceinsight&lt;/td&gt;
&lt;td&gt;需要破解&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Sublime Text&lt;/td&gt;
&lt;td&gt;需要使用 patch 破解&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Wub&lt;/td&gt;
&lt;td&gt;Windows Update Blocker，关闭 windows 更新 服务，同时也可用于关闭其它服务，并阻止其它软件开启，设置步骤见官网&lt;br /&gt;如果要使用系统更新，可以开启 SSR 全局代理，加快下载&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;!-- DB end --&gt;

&lt;h1 id=&#34;4-网络&#34;&gt;&lt;a href=&#34;#4-网络&#34; class=&#34;headerlink&#34; title=&#34;4 网络&#34;&gt;&lt;/a&gt;4 网络&lt;/h1&gt;&lt;h2 id=&#34;4-1-windows-store&#34;&gt;&lt;a href=&#34;#4-1-windows-store&#34; class=&#34;headerlink&#34; title=&#34;4.1 windows store&#34;&gt;&lt;/a&gt;4.1 windows store&lt;/h2&gt;&lt;p&gt;对于 windows store 设置代理，先设置 ie 代理，然后&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;# 导入 ie 代理&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;netsh winhttp import proxy source=ie&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# 取消代理&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;netsh winhttp reset proxy&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;对于 windows store 无法联网，错误代码 0x80072F7D。打开IE浏览器工具（注意不是Edge）—— 点击”Internet选项“ —— 选择“高级”选项卡 —— 在“使用TLS1.2”前面打上勾&lt;/p&gt;
&lt;h2 id=&#34;4-2-命令行&#34;&gt;&lt;a href=&#34;#4-2-命令行&#34; class=&#34;headerlink&#34; title=&#34;4.2 命令行&#34;&gt;&lt;/a&gt;4.2 命令行&lt;/h2&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;# http 代理。只对当前 cmd 生效&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;set http_proxy=http://127.0.0.1:8118&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;set https_proxy=http://127.0.0.1:8118&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# socks 代理。使用 setx 可以添加到 高级系统设置 - 环境变量当中，删除变量只能通过图形界面删除&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;setx http_proxy socks5://127.0.0.1:10800&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;setx https_proxy socks5://127.0.0.1:10800&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;4-3-添加环回网卡&#34;&gt;&lt;a href=&#34;#4-3-添加环回网卡&#34; class=&#34;headerlink&#34; title=&#34;4.3 添加环回网卡&#34;&gt;&lt;/a&gt;4.3 添加环回网卡&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;运行 &lt;code&gt;hdwwiz.exe&lt;/code&gt; 手动选择硬件 网络适配器 – Microsoft – Microsoft KM-TEST环回适配器&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;4-4-Clash-自定义&#34;&gt;&lt;a href=&#34;#4-4-Clash-自定义&#34; class=&#34;headerlink&#34; title=&#34;4.4 Clash 自定义&#34;&gt;&lt;/a&gt;4.4 Clash 自定义&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Clash 修改 profile 路径为其它盘&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Clash 的 &lt;a href=&#34;https://www.codein.icu/clashtutorial/&#34;&gt;基本介绍&lt;/a&gt;、&lt;a href=&#34;https://dreamacro.github.io/clash/configuration/configuration-reference.html&#34;&gt;官方配置参考&lt;/a&gt;、&lt;a href=&#34;https://docs.cfw.lbyczf.com/&#34;&gt;参考一&lt;/a&gt;、&lt;a href=&#34;https://lancellc.gitbook.io/clash/&#34;&gt;参考二&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;关于 Clash for Windows 的 DNS，关于 DNS 见 &lt;a href=&#34;https://github.com/Fndroid/clash_for_windows_pkg/wiki/DNS%E6%B1%A1%E6%9F%93%E5%AF%B9Clash%EF%BC%88for-Windows%EF%BC%89%E7%9A%84%E5%BD%B1%E5%93%8D&#34;&gt;一&lt;/a&gt;、&lt;a href=&#34;https://blog.rssins.net/archives/1379&#34;&gt;二&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;为防止 DNS 泄露&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;组策略，禁用 智能多宿主名称解析&lt;/li&gt;
&lt;li&gt;firefox 设置 socks5 代理，并开启 socks5 DNS 解析&lt;/li&gt;
&lt;li&gt;clash 不添加匹配 IP 的规则，牺牲一些性能&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Break When Proxy Change 改成 &lt;a href=&#34;https://docs.cfw.lbyczf.com/contents/breakconn.html&#34;&gt;chain&lt;/a&gt;，来切代理时自动断连接&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;用 proxy-provider + rule-provider 的方法，参考 &lt;a href=&#34;https://www.youtube.com/watch?v=IVlnvBQXEgE&#34;&gt;视频&lt;/a&gt;、&lt;a href=&#34;https://www.920.im/clash-rule-providers-configuration/&#34;&gt;这个&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;最终采用白名单模式，将直连域名、IP 排除，其它一律走代理，配置文件备份到 asset 文件夹&lt;/li&gt;
&lt;li&gt;参考 &lt;a href=&#34;https://yattazen.com/tutorial/clash-custom-config.html&#34;&gt;分流原则&lt;/a&gt;，重要直连分流规则 &amp;gt; 去广告规则 &amp;gt; 小分流 &amp;gt; 国内外大分流 &amp;gt; 补充规则&lt;/li&gt;
&lt;li&gt;用到的在线 &lt;a href=&#34;https://github.com/Loyalsoldier/clash-rules&#34;&gt;规则一&lt;/a&gt;（用于决定国内 IP）、&lt;a href=&#34;https://github.com/ACL4SSR/ACL4SSR/tree/master&#34;&gt;规则二&lt;/a&gt;（用于细化应用流量）&lt;/li&gt;
&lt;li&gt;以后有新要求可以添加在线或自定义规则&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;另一种方法是，在 profiles 的 parsers 中可加入自定义内容修改原订阅&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可参考 &lt;a href=&#34;https://chenjuefei.com:444/117.html&#34;&gt;这个&lt;/a&gt; 和 &lt;a href=&#34;https://github.com/Dreamacro/clash/wiki/configuration&#34;&gt;官方配置文件写法&lt;/a&gt;，更全的 &lt;a href=&#34;https://github.com/Fndroid/clash_for_windows_pkg/issues/2193&#34;&gt;这个&lt;/a&gt; 和 &lt;a href=&#34;https://github.com/Fndroid/clash_for_windows_pkg/issues/2729&#34;&gt;这个&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;题外话，clash 正则 &lt;a href=&#34;https://stackoverflow.com/questions/38933898/error-parsing-regexp-invalid-or-unsupported-perl-syntax&#34;&gt;不支持 lookarounds&lt;/a&gt;，但如果支持，正常用正则排除掉一组词，应该这样写 &lt;code&gt;^(?!.*(dollar|euro|pound)).*&lt;/code&gt;，匹配不包含 (dollar|euro|pound) 的词，&lt;a href=&#34;https://regexland.com/regex-match-all-except/&#34;&gt;参考&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;开启 TUN，用 script 模式，默认程序走 DIRECT 直连&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;选中的程序进行流量规则匹配，但对于手动跳过某条匹配规则的情况，如 chrome 浏览器需要临时转给流量分析程序，暂时用接入 clash 的方式区分&lt;/li&gt;
&lt;li&gt;HTTP&amp;#x2F;Socks5 进行流量匹配，TUN 则手动选择代理，见 asset 中 clash_rule.yml&lt;/li&gt;
&lt;li&gt;此时配合 SwitchyOmega 开启快速切换，在 HTTP 和 直连（即 TUN 接入）间切换&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;如果需要开启多个监听端口可用 clash core&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;在终端中启动 &lt;code&gt;clash-win64.exe -f 配置文件路径 &lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;配置文件设置控制端口，如 9090，然后 &lt;code&gt;https://clash.razord.top/#/proxies?host=127.0.0.1&amp;amp;port=9090&amp;amp;secret=&lt;/code&gt; 来控制和切换&lt;/p&gt;
  &lt;figure class=&#34;highlight yaml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;mixed-port:&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;17891&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;mode:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;global&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;log-level:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;debug&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;external-controller:&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.0&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;:9090&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;proxies:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 代理服务器节点&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;clash 的 api 也可实现一些自定义功能，如 &lt;a href=&#34;https://github.com/Fndroid/clash_for_windows_pkg/issues/2605&#34;&gt;这个&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;选机场&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;测速，自己用 stairspeed 注册临时账号买便宜套餐晚高峰测&lt;/li&gt;
&lt;li&gt;经历，经营时间、过去评价、目前跑路风险&lt;/li&gt;
&lt;li&gt;审计，哪些端口被封，或只允许哪些端口，哪些网站被封&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;4-5-VPN-转-代理&#34;&gt;&lt;a href=&#34;#4-5-VPN-转-代理&#34; class=&#34;headerlink&#34; title=&#34;4.5 VPN 转 代理&#34;&gt;&lt;/a&gt;4.5 VPN 转 代理&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;VPN 为全局，在某些场景下不够灵活，因此需要转成代理 Socks5&amp;#x2F;HTTP&lt;/li&gt;
&lt;li&gt;例子：Google one vpn，连接前先进行地区校验，然后才开始连接，每隔一段时间还要再次校验，&lt;a href=&#34;https://bbs.yummy.best/t/topic/467&#34;&gt;详情参考&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;所以要&lt;ul&gt;
&lt;li&gt;将校验流量走代理&lt;/li&gt;
&lt;li&gt;由于 VPN 是全局的，不方便使用，要将其转换为 socks&amp;#x2F;http 代理，集成到 clash 分流管理中&lt;/li&gt;
&lt;li&gt;只有安卓使用了没有被封 UDP 2153 端口，而其它平台用了被封的 443，因此只有安卓可以不套代理直连，其它平台还要再套一层转发 UDP 比较快的代理（这样做仅是为了获得纯净的落地 IP，要消耗机场流量）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;方法&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.techkoala.top/google_one_vpn/&#34;&gt;方法1&lt;/a&gt;：将 android 手机设置代理走 Windows clash，代理校验流量，再将手机 VPN 共享出来。以后试试 光速 虚拟机&lt;/li&gt;
&lt;li&gt;方法2：不借助手机、软路由，只用 Windows 作为主设备的使用方式&lt;ul&gt;
&lt;li&gt;参考 &lt;a href=&#34;https://www.youtube.com/watch?v=GjhetHGIKLg&#34;&gt;局域网共享网络视频&lt;/a&gt;，能代理 VPN 底层流量，只能是网关共享或路由共享（配置系统 socks&amp;#x2F;http 代理取决于 VPN 软件是否遵守，有可能可以），由于 Windows Clash &lt;a href=&#34;https://github.com/Fndroid/clash_for_windows_pkg/issues/1865&#34;&gt;不支持网关共享&lt;/a&gt;，因此只能路由共享&lt;/li&gt;
&lt;li&gt;由于只用一台设备，那么运行 VPN 客户端的要是虚拟的 android&amp;#x2F;windows 设备，虚拟 android（像下面一样桥接到环回网卡）类似方法 1，下面考虑虚拟 windows&lt;/li&gt;
&lt;li&gt;新建环回网卡，将 windows 虚拟机桥接到该网卡，宿主机共享 clash 网卡流量给环回网卡，网卡右键 – 属性 – Internet 连接共享（好像每次系统重启要重新配置一下共享），而且可能要设置虚拟机中网卡的 DNS 1.1.1.1、8.8.8.8&lt;/li&gt;
&lt;li&gt;宿主机 clash 配置分流策略，代理校验流量，还要代理 UDP 2153 流量&lt;/li&gt;
&lt;li&gt;虚拟机连接 VPN，同时装 clash 开启局域网共享，不开 TUN，策略 DIRECT，仅将 clash 作为 socks&amp;#x2F;http 服务器把网络共享出去，给宿主机 clash 或局域网设备使用&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;题外话：多个网卡都配置网关，根据跃点数，选择路由，可以这样改&lt;ul&gt;
&lt;li&gt;网卡 IPv4 属性 – 高级 – 取消自动跃点，要是固定 IP 有两处配置，一处网关，一处接口，最终跃点看起来是两者相加，跃点越低优先级越高，通过 route print 查看&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;4-6-多重代理&#34;&gt;&lt;a href=&#34;#4-6-多重代理&#34; class=&#34;headerlink&#34; title=&#34;4.6 多重代理&#34;&gt;&lt;/a&gt;4.6 多重代理&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;链式代理：通过不断添加前置代理，如报文按 A –&amp;gt; B –&amp;gt; C 转发，C 配前置代理为 B，B 配前置代理为 A，报文封装与转发顺序相反，为 CBA。以下几种前置代理方法，按灵活性递减列出&lt;ul&gt;
&lt;li&gt;软件内设置，或设置系统代理&amp;#x2F;环境变量（并被软件使用），如 Tor、浏览器&lt;/li&gt;
&lt;li&gt;代理软件内，设置命中转发规则后使用链式代理，如 clash relay、v2ray proxySettings、Proxifier&amp;#x2F;ProxyChains 中的链式代理&lt;/li&gt;
&lt;li&gt;TUN 模式&amp;#x2F;VPN，成为上层软件的前置代理。用于不支持设置代理或不使用系统代理的软件&lt;/li&gt;
&lt;li&gt;宿主机，作为虚拟机的前置代理，网关共享&amp;#x2F;路由共享&amp;#x2F;设置系统代理三种模式。好处是网关共享&amp;#x2F;路由共享时，不会漏掉没代理的流量&lt;/li&gt;
&lt;li&gt;路由器作网关，成为局域网设备的前置代理。万能但笨重，可以一直叠加上级路由器作为前置代理&lt;/li&gt;
&lt;li&gt;限制：clash 不支持 UDP relay（可用 meta core 的 UoT），代理节点不允许国外 IP 入站，不允许不常用端口出站&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;典型应用：住宅 IP&lt;ul&gt;
&lt;li&gt;vmess + socks5 链式代理，测试 clash relay 无法用 http，只能用 socks5，并且配置时要 &lt;code&gt;tls: false, skip-cert-verify: true&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;有些网站用直连住宅代理可以，但像 Google 就无法直连，必须链式&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;如只提供 http 代理&lt;ul&gt;
&lt;li&gt;不好用的方法&lt;ul&gt;
&lt;li&gt;不能用 vmess + http 链式，clash 不通，v2ray 没找到配置的地方，怀疑与 http 代理无法处理 dns (udp) 报文有关&lt;/li&gt;
&lt;li&gt;不能用 clash tun + 浏览器代理&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;临时用 SSH 作 socks5 服务器，clash 配置 socks5 + 住宅 http 链式来用&lt;/li&gt;
&lt;li&gt;用 wireguard + 设置系统代理 或 firefox 自带代理设置（HTTP 的用户密码会在访问时弹出提示），wireguard + firefox 也适用于 linux&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;测试：&lt;code&gt;curl -x socks5://USER:PASS@IP:PORT ipinfo.io&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;socks5 UDP &lt;a href=&#34;https://github.com/txthinking/brook#testsocks5&#34;&gt;支持测试&lt;/a&gt; &lt;code&gt;./brook_linux_amd64 testsocks5 -s=&amp;quot;127.0.0.1:17890&amp;quot; -u=&amp;quot;XXX&amp;quot; -p=&amp;quot;XXX&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;测试网站&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://ipinfo.io/&#34;&gt;IP 信息&lt;/a&gt; type:isp 为住宅&lt;/li&gt;
&lt;li&gt;欺诈值 &lt;a href=&#34;https://scamalytics.com/ip&#34;&gt;https://scamalytics.com/ip&lt;/a&gt; &lt;a href=&#34;https://www.ipqualityscore.com/free-ip-lookup-proxy-vpn-test/lookup/11.22.33.44&#34;&gt;https://www.ipqualityscore.com/free-ip-lookup-proxy-vpn-test/lookup/11.22.33.44&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;伪装度 &lt;a href=&#34;https://whoer.net/&#34;&gt;https://whoer.net/&lt;/a&gt;  &lt;a href=&#34;https://ipfighter.com/&#34;&gt;https://ipfighter.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;dns 泄露 &lt;a href=&#34;https://browserleaks.com/webrtc&#34;&gt;https://browserleaks.com/webrtc&lt;/a&gt; &lt;a href=&#34;https://ipleak.net/&#34;&gt;https://ipleak.net/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;5-命令行&#34;&gt;&lt;a href=&#34;#5-命令行&#34; class=&#34;headerlink&#34; title=&#34;5 命令行&#34;&gt;&lt;/a&gt;5 命令行&lt;/h1&gt;&lt;h2 id=&#34;5-1-msys2&#34;&gt;&lt;a href=&#34;#5-1-msys2&#34; class=&#34;headerlink&#34; title=&#34;5.1 msys2&#34;&gt;&lt;/a&gt;5.1 msys2&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;为了使用最新的 gcc，安装一套编译工具。&lt;strong&gt;安装时卡在 66% “Updating trust database” ，一定用任务管理器杀掉进程，重新再运行一遍安装&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;打开 MSYS 命令行&lt;/p&gt;
  &lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 更新软件数据库和已安装软件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pacman -Syu&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 安装 mingw-w64 GCC&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pacman -S --needed base-devel mingw-w64-x86_64-toolchain mingw-w64-x86_64-cmake&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 前一条命令会装 python，这里装 pip，似乎只装 mingw 的 pip 就行&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pacman -S python3-pip&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pacman -S mingw-w64-x86_64-python-pip&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pacman -S vim git&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 用 windows 下的 meld 安装包，不用下面的，太大了&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# windows 下的 meld 只能在 MSYS2 下启动，不能在 mingw64，不清楚原因&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# pacman -S mingw-w64-x86_64-meld3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;编辑 bash.bashrc&lt;/p&gt;
  &lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 参考 ANSI Escape Sequences https://gist.github.com/fnky/458719343aabd01cfb17a3a4f7296797&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;PS1=&lt;span class=&#34;string&#34;&gt;&amp;#x27;\[\033]0;\W\007\]&amp;#x27;&lt;/span&gt; &lt;span class=&#34;comment&#34;&gt;# set window title&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;PS1=&lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;variable&#34;&gt;$PS1&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27;\[\033[32m\]&amp;#x27;&lt;/span&gt;       &lt;span class=&#34;comment&#34;&gt;# change to green&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;PS1=&lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;variable&#34;&gt;$PS1&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27;[\! \A \w] &amp;#x27;&lt;/span&gt;        &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;PS1=&lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;variable&#34;&gt;$PS1&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27;\[\033[0m\]&amp;#x27;&lt;/span&gt;        &lt;span class=&#34;comment&#34;&gt;# change color&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;export&lt;/span&gt; PS1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 为了使用 Python 包&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;export&lt;/span&gt; PYTHONPATH=&lt;span class=&#34;string&#34;&gt;&amp;quot;D:\soft\msys64\usr\lib\python3.9\site-packages&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 右键启动时使用默认配色，SecureCRT 使用 dircolors.256dark&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; [ &lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;variable&#34;&gt;$TERM_PROGRAM&lt;/span&gt;&amp;quot;&lt;/span&gt; != &lt;span class=&#34;string&#34;&gt;&amp;quot;mintty&amp;quot;&lt;/span&gt; ]; &lt;span class=&#34;keyword&#34;&gt;then&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	&lt;span class=&#34;built_in&#34;&gt;eval&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;subst&#34;&gt;$(dircolors -b /etc/dircolors.256dark)&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;fi&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;alias&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;ls&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;#x27;ls --color=auto&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;alias&lt;/span&gt; ll=&lt;span class=&#34;string&#34;&gt;&amp;#x27;ls --color=auto -alF&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;alias&lt;/span&gt; vi=vim&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;alias&lt;/span&gt; grep=&lt;span class=&#34;string&#34;&gt;&amp;quot;/bin/grep --color&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;设置&lt;a href=&#34;https://github.com/njzhangyifei/msys2-mingw-shortcut-menus&#34;&gt;右键菜单&lt;/a&gt;，reg 已放到资源目录 &lt;code&gt;右键菜单Bash.reg&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;cmake-gui 要装 Qt5，太大了，直接用官网的包中的 cmake-gui 替换掉 &lt;code&gt;D:\soft\msys64\mingw64\bin&lt;/code&gt; 中的&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;以下几条针对 SecureCRT，添加到 login 执行中&lt;/p&gt;
  &lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;export MSYS2_PATH_TYPE=inherit&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;export MSYSTEM=MINGW64&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;source /etc/profile&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;设置为 True Color&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;允许输入中文，&lt;code&gt;\msys64\home\username\.inputrc&lt;/code&gt; 中 &lt;code&gt;Allow 8-bit input/output&lt;/code&gt; 下面 4 行去掉注释，即 set meta-flag on 到 set output-meta on&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;pacman -S package_name  #安装软件包&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pacman -R package_name  #删除软件包&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pacman -Rs package_name #顺便删除软件包相关依赖&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pacman -Syu             #升级系统中的所有包&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pacman -Ss package      #查询软件包&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pacman -Qs package      #查询已安装的包&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pacman -Qi package      #显示查找的包的信息&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pacman -Ql package      #显示你要找的包的文件都安装的位置&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pacman -Sw package      #下载但不安装包&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pacman -U  /path/package.pkg.tar.gz #安装本地包&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pacman -Scc             #清理包缓存，下载的包会在/var/cache 这个目录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pacman -Sf pacman       #重新安装包&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/windows/../IDE/#Clion&#34;&gt;Clion&lt;/a&gt; 中指定环境目录为  &lt;code&gt;D:\soft\msys64\mingw64\&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;参考 1 &lt;a href=&#34;https://www.chenshaowen.com/blog/correct-way-to-use-vim-on-windows.html&#34;&gt;Windows 下正确使用 Vim 的方式&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;参考 2 &lt;a href=&#34;https://creaink.github.io/post/Computer/Windows/win-msys2.html&#34;&gt;MSYS2 和 mintty 打造 Windows 下 Linux 工具体验&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;5-2-git-bash&#34;&gt;&lt;a href=&#34;#5-2-git-bash&#34; class=&#34;headerlink&#34; title=&#34;5.2 git bash&#34;&gt;&lt;/a&gt;5.2 git bash&lt;/h2&gt;&lt;p&gt;openssh 方式不论用 cmd 还是 powershell 都没法正确显示长命令，两个办法，git bash (mintty) 或 SecureCRT 的 local shell。不考虑 windows 商店中的 terminal&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;字体、透明度、主题 dracula&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;修改 PS1，&lt;code&gt;D:\MySoftware\Git\etc\profile.d\git-prompt.sh&lt;/code&gt;，与 msys2 的配置相同&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;查找之前输出 Alt + F3，Shift + Enter &amp;#x2F; Enter 上一个和下一个匹配&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Python 代码中设置标准输出编码，否则为 GBK&lt;/p&gt;
  &lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;import&lt;/span&gt; sys&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sys.stdout.reconfigure(encoding=&lt;span class=&#34;string&#34;&gt;&amp;#x27;utf-8&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;python -u 运行脚本，以便立刻输出到命令行。进入 python -i ，退出 exit()&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;对于 SecureCRT 集成 git bash，选择 &lt;code&gt;D:\soft\Git\bin\bash.exe&lt;/code&gt; 而非 &lt;code&gt;\user\bin\bash.exe&lt;/code&gt;。进入后 &lt;code&gt;source /etc/profile&lt;/code&gt; 来设置 locale 的中文和 TERM 变量&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;如有 SecureCRT，修改 PS1 同上，字体可指定 Jetbrains 的，颜色为 24 位&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;如有 SecureCRT，配置文件夹颜色，来自 &lt;a href=&#34;https://github.com/seebi/dircolors-solarized&#34;&gt;dircolors-solarized&lt;/a&gt; 中的 dircolors.256dark，改  &lt;code&gt;/etc/bash.bashrc&lt;/code&gt; 靠近文档最后的地方为 &lt;code&gt;eval &amp;quot;$(dircolors -b /etc/dircolors.256dark)&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;5-3-shell&#34;&gt;&lt;a href=&#34;#5-3-shell&#34; class=&#34;headerlink&#34; title=&#34;5.3 shell&#34;&gt;&lt;/a&gt;5.3 shell&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;使用 powershell，输入 &lt;code&gt;Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser&lt;/code&gt; 允许执行脚本&lt;/li&gt;
&lt;li&gt;在 &lt;code&gt;F:\Documents\WindowsPowerShell\Microsoft.PowerShell_profile.ps1&lt;/code&gt; 中添加，自定义颜色&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight powershell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# https://superuser.com/questions/1259900/how-to-colorize-the-powershell-prompt&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;prompt&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		&lt;span class=&#34;variable&#34;&gt;$ESC&lt;/span&gt; = [&lt;span class=&#34;built_in&#34;&gt;char&lt;/span&gt;]&lt;span class=&#34;number&#34;&gt;27&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;		&lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;variable&#34;&gt;$ESC&lt;/span&gt;[35m&lt;span class=&#34;variable&#34;&gt;$&lt;/span&gt;(Get-Date -Format &amp;quot;&lt;/span&gt;HH:mm&lt;span class=&#34;string&#34;&gt;&amp;quot;) &lt;span class=&#34;variable&#34;&gt;$&lt;/span&gt;(&lt;span class=&#34;variable&#34;&gt;$executionContext&lt;/span&gt;.SessionState.Path.CurrentLocation)&lt;span class=&#34;variable&#34;&gt;$&lt;/span&gt;(&amp;#x27;&amp;gt;&amp;#x27; * (&lt;span class=&#34;variable&#34;&gt;$nestedPromptLevel&lt;/span&gt; + 1))&lt;span class=&#34;variable&#34;&gt;$ESC&lt;/span&gt;[0m &amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;对于 cmd，添加系统变量 PROMPT 值为 &lt;code&gt;$T$H$H$H$H$H$H$S$P$G$S&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;5-4-openssh&#34;&gt;&lt;a href=&#34;#5-4-openssh&#34; class=&#34;headerlink&#34; title=&#34;5.4 openssh&#34;&gt;&lt;/a&gt;5.4 openssh&lt;/h2&gt;&lt;p&gt;参照 &lt;a href=&#34;https://winscp.net/eng/docs/guide_windows_openssh_server&#34;&gt;Installing SFTP&amp;#x2F;SSH Server on Windows using OpenSSH&lt;/a&gt;，1803 之后用系统直接安装，之前版本步骤如下&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;下载 &lt;a href=&#34;https://github.com/PowerShell/Win32-OpenSSH/releases&#34;&gt;OpenSSH for Windows binaries&lt;/a&gt; OpenSSH-Win64.zip 解压到 C:\Program Files\OpenSSH&lt;/li&gt;
&lt;li&gt;管理员权限 powershell &lt;code&gt;powershell.exe -ExecutionPolicy Bypass -File install-sshd.ps1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;开启防火墙，管理员权限 powershell &lt;code&gt;New-NetFirewallRule -Name sshd -DisplayName &amp;#39;OpenSSH SSH Server&amp;#39; -Enabled True -Direction Inbound -Protocol TCP -Action Allow -LocalPort 22 -Program &amp;quot;C:\Program Files\OpenSSH\sshd.exe&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;services.msc 开启 OpenSSH SSH Server 服务&lt;/li&gt;
&lt;li&gt;对于 &lt;code&gt;Administrators&lt;/code&gt; 用户组用户，将生成的公钥存到 &lt;code&gt;C:\ProgramData\ssh\administrators_authorized_keys&lt;/code&gt; 中（原理是 SSH 客户端保存私钥，服务器端放公钥）&lt;br&gt; - 文章中用的 PuTTYgen 来生成公私密钥对，这里用的 &lt;a href=&#34;https://www.vandyke.com/support/tips/publickeyauth.html&#34;&gt;SecureCRT 方式&lt;/a&gt; 生成，生成格式选的 OpenSSH Key format (new)，将 Identity.pub 的内容放入 administrators_authorized_keys&lt;br&gt;  - 这种方式的 Key 用到 WinSCP 上也可以，但会提示转换，新生成 Identity.ppk 进行 SFTP 连接&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;对于 ssh 客户端，把 key 放到 &lt;code&gt;C:\Users\用户名\.ssh&lt;/code&gt; 下，即可连接&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;6-系统问题&#34;&gt;&lt;a href=&#34;#6-系统问题&#34; class=&#34;headerlink&#34; title=&#34;6 系统问题&#34;&gt;&lt;/a&gt;6 系统问题&lt;/h1&gt;&lt;h2 id=&#34;6-1-端口占用&#34;&gt;&lt;a href=&#34;#6-1-端口占用&#34; class=&#34;headerlink&#34; title=&#34;6.1 端口占用&#34;&gt;&lt;/a&gt;6.1 端口占用&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;cmd 管理员运行，&lt;code&gt;netstat -ano |findstr &amp;quot;PORT&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;查看排除端口范围，&lt;code&gt;netsh int ip show excludedportrange protocol=tcp&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;是否占用范围 &lt;code&gt;net stop winnat &amp;amp;&amp;amp; net start winnat&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://superuser.com/questions/1784776/my-ports-are-always-occupied-and-no-software-shows-why-netstat-tcpview&#34;&gt;参考&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;7-其它&#34;&gt;&lt;a href=&#34;#7-其它&#34; class=&#34;headerlink&#34; title=&#34;7 其它&#34;&gt;&lt;/a&gt;7 其它&lt;/h1&gt;&lt;h2 id=&#34;7-1-mbr-转-gpt&#34;&gt;&lt;a href=&#34;#7-1-mbr-转-gpt&#34; class=&#34;headerlink&#34; title=&#34;7.1 mbr 转 gpt&#34;&gt;&lt;/a&gt;7.1 mbr 转 gpt&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;用 diskgenius 转换分区表&lt;/li&gt;
&lt;li&gt;在系统盘前面分出 500MB 空余空间，用 diskgenius 建立 ESP 和 MBR 分区&lt;/li&gt;
&lt;li&gt;使用 PE 工具修复引导&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;7-2-Google&#34;&gt;&lt;a href=&#34;#7-2-Google&#34; class=&#34;headerlink&#34; title=&#34;7.2 Google&#34;&gt;&lt;/a&gt;7.2 Google&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Google 搜索可在设置中指定地区，避免结果随 IP 而变化；也可通过 &lt;a href=&#34;https://10wontips.blogspot.com/2018/07/always-search-google-in-english-by.html&#34;&gt;在 URL 指定的方式&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;如 US，&lt;code&gt;https://www.google.com/search?q=%s&amp;amp;pws=0&amp;amp;gl=us&amp;amp;gws_rd=cr&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;8-备份与还原&#34;&gt;&lt;a href=&#34;#8-备份与还原&#34; class=&#34;headerlink&#34; title=&#34;8 备份与还原&#34;&gt;&lt;/a&gt;8 备份与还原&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;见备份策略文档&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;9-U-盘系统&#34;&gt;&lt;a href=&#34;#9-U-盘系统&#34; class=&#34;headerlink&#34; title=&#34;9 U 盘系统&#34;&gt;&lt;/a&gt;9 U 盘系统&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;使用移动硬盘盒 + 固态硬盘的方案，而非固态 U 盘，因为&lt;ul&gt;
&lt;li&gt;固态硬盘以后可以给 PC 用&lt;/li&gt;
&lt;li&gt;移动硬盘盒 USB type A 和 type C 只要换线就可支持不同接口，作为 U 盘或随身系统&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;装系统软件使用 WTG(win to go) 辅助工具，默认选项增加分区配置即可，方法参考 &lt;a href=&#34;https://post.smzdm.com/p/a5dx4507/&#34;&gt;教大家制作 “随身携带” 的 Windows 11 系统&lt;/a&gt; 和 &lt;a href=&#34;https://bbs.luobotou.org/forum-88-1.html&#34;&gt;萝卜头IT论坛&lt;/a&gt;。傲梅也有 WinToGo 工具，可以试试 &lt;a href=&#34;https://www.disktool.cn/wintogo.html&#34;&gt;口袋系统WinToGo&lt;/a&gt;。另外按照这个&lt;a href=&#34;https://www.bilibili.com/read/cv15813796/&#34;&gt;教程&lt;/a&gt;，Rufus 也可以&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/2-3-5-7/2-3-5-7.github.io/tree/main/虚拟环境/2. 处理平台/windows&#34;&gt;&lt;i class=&#34;fa-solid fa-download fa-2xl&#34; style=&#34;color: gray;&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://synrst.de/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/docker/</guid>
            <title>docker</title>
            <link>https://synrst.de/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/docker/</link>
            <pubDate>Thu, 01 Jan 1970 08:00:00 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;1-安装&#34;&gt;&lt;a href=&#34;#1-安装&#34; class=&#34;headerlink&#34; title=&#34;1 安装&#34;&gt;&lt;/a&gt;1 安装&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-20-04&#34;&gt;ubuntu 20.04 安装&lt;/a&gt;、&lt;a href=&#34;https://phoenixnap.com/kb/install-docker-on-ubuntu-20-04&#34;&gt;参考二&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;避免每次输入 sudo  &lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo groupadd docker&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo usermod -aG docker &lt;span class=&#34;variable&#34;&gt;$USER&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 激活新修改&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;newgrp docker&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 提示没权限的话重启&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;docker version&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;compose &lt;a href=&#34;https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-compose-on-ubuntu-20-04&#34;&gt;安装&lt;/a&gt;，这里下载的 github 地址要去 GitHub 看一下来改&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;1-1-windows-wsl2&#34;&gt;&lt;a href=&#34;#1-1-windows-wsl2&#34; class=&#34;headerlink&#34; title=&#34;1.1 windows-wsl2&#34;&gt;&lt;/a&gt;1.1 windows-wsl2&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;wsl –update 用 wsl2&lt;/li&gt;
&lt;li&gt;在 resource - proxies 设置代理&lt;/li&gt;
&lt;li&gt;按 &lt;a href=&#34;https://devops.tutorials24x7.com/blog/how-to-change-docker-data-path-on-windows-10&#34;&gt;Configure WSL 2 Data Location&lt;/a&gt; 修改文件路径到其它盘&lt;/li&gt;
&lt;li&gt;wsl 其它 distro 也可以这样改路径&lt;/li&gt;
&lt;li&gt;相关命令  &lt;figure class=&#34;highlight powershell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 装 kali&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;wsl &lt;span class=&#34;literal&#34;&gt;--list&lt;/span&gt; &lt;span class=&#34;literal&#34;&gt;--online&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;wsl &lt;span class=&#34;literal&#34;&gt;--install&lt;/span&gt; &lt;span class=&#34;literal&#34;&gt;-d&lt;/span&gt; kali&lt;span class=&#34;literal&#34;&gt;-linux&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;wsl &lt;span class=&#34;literal&#34;&gt;-s&lt;/span&gt; kali&lt;span class=&#34;literal&#34;&gt;-linux&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 修改路径&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;wsl &lt;span class=&#34;literal&#34;&gt;--export&lt;/span&gt; kali&lt;span class=&#34;literal&#34;&gt;-linux&lt;/span&gt; kali&lt;span class=&#34;literal&#34;&gt;-linux&lt;/span&gt;.tar&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;wsl &lt;span class=&#34;literal&#34;&gt;--export&lt;/span&gt; docker&lt;span class=&#34;literal&#34;&gt;-desktop-data&lt;/span&gt; docker&lt;span class=&#34;literal&#34;&gt;-desktop-data&lt;/span&gt;.tar&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;wsl &lt;span class=&#34;literal&#34;&gt;--unregister&lt;/span&gt; docker&lt;span class=&#34;literal&#34;&gt;-desktop-data&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;wsl &lt;span class=&#34;literal&#34;&gt;--unregister&lt;/span&gt; kali&lt;span class=&#34;literal&#34;&gt;-linux&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;wsl &lt;span class=&#34;literal&#34;&gt;--import&lt;/span&gt; kali&lt;span class=&#34;literal&#34;&gt;-linux&lt;/span&gt; E:\wsl\kali kali&lt;span class=&#34;literal&#34;&gt;-linux&lt;/span&gt;.tar &lt;span class=&#34;literal&#34;&gt;--version&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;wsl &lt;span class=&#34;literal&#34;&gt;--import&lt;/span&gt; docker&lt;span class=&#34;literal&#34;&gt;-desktop-data&lt;/span&gt; E:\wsl\docker&lt;span class=&#34;literal&#34;&gt;-data&lt;/span&gt; docker&lt;span class=&#34;literal&#34;&gt;-desktop-data&lt;/span&gt;.tar &lt;span class=&#34;literal&#34;&gt;--version&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://gist.github.com/ilbunilcho/4280bd55a10cefef75e74986b6bff936&#34;&gt;设置 &lt;/a&gt;&lt;code&gt;appendWindowsPath = false&lt;/code&gt;，需要 &lt;code&gt;wsl --shutdown&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;2-镜像&#34;&gt;&lt;a href=&#34;#2-镜像&#34; class=&#34;headerlink&#34; title=&#34;2 镜像&#34;&gt;&lt;/a&gt;2 镜像&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;拉取镜像，替换源速度没有提升，建议 &lt;a href=&#34;https://note.qidong.name/2020/05/docker-proxy/&#34;&gt;设置代理&lt;/a&gt;，只设置前 http 和 https 两处就可以了&lt;/p&gt;
  &lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker pull cdrx/pyinstaller-linux&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 使用  &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;docker pull ubuntu@sha256:4b114761663a63948fcd36ef36315b31370c52e59546cf32fee60a8fb16aeddf&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;docker pull --platform linux/arm64 alpine:latest&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;保存和加载镜像&lt;/p&gt;
  &lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker save -o &amp;lt;path &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; generated tar file&amp;gt; &amp;lt;image name&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;docker load -i &amp;lt;path to image tar file&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;3-容器&#34;&gt;&lt;a href=&#34;#3-容器&#34; class=&#34;headerlink&#34; title=&#34;3 容器&#34;&gt;&lt;/a&gt;3 容器&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;生成容器  &lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 指定容器名字方便操作&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# -v 是绑定，docker run 见 https://docs.docker.com/engine/reference/commandline/run/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;docker run --&lt;span class=&#34;built_in&#34;&gt;rm&lt;/span&gt; -it --name table_bot -v /home/zack/code/table_bot:/src/ cdrx/pyinstaller-linux /bin/bash&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 改成豆瓣源&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pip config &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; global.index-url https://pypi.tuna.tsinghua.edu.cn/simple&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;列出容器  &lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# -s 占用大小，-a 所有，包括停止的容器&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;docker ps -a -s&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;运行命令  &lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker start table_bot&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# -d: Detached mode: run command in the background&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;docker &lt;span class=&#34;built_in&#34;&gt;exec&lt;/span&gt; -d table_bot bash -c &lt;span class=&#34;string&#34;&gt;&amp;#x27;/root/.pyenv/shims/pyinstaller -F bot.py &amp;amp;&amp;amp; cp dist/b .&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;进入 docker  &lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker start table_bot -i&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 如果已启动&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;docker &lt;span class=&#34;built_in&#34;&gt;exec&lt;/span&gt; -it &amp;lt;mycontainer&amp;gt; /bin/sh&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://stackoverflow.com/questions/19335444/how-do-i-assign-a-port-mapping-to-an-existing-docker-container&#34;&gt;修改端口映射&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;4-API&#34;&gt;&lt;a href=&#34;#4-API&#34; class=&#34;headerlink&#34; title=&#34;4 API&#34;&gt;&lt;/a&gt;4 API&lt;/h1&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 用 curl 和 jq 测试&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 用法参考 https://stackoverflow.com/questions/41960751/docker-remote-api-filters-filter-out-network-by-name&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# https://stackoverflow.com/questions/28054203/docker-remote-api-filter-exited&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo curl -gG -XGET -v -H &lt;span class=&#34;string&#34;&gt;&amp;#x27;User-Agent:&amp;#x27;&lt;/span&gt; -H &lt;span class=&#34;string&#34;&gt;&amp;#x27;Accept:&amp;#x27;&lt;/span&gt; -s --unix-socket /var/run/docker.sock &lt;span class=&#34;string&#34;&gt;&amp;#x27;http://localhost/v1.41/containers/json?limit=10&amp;#x27;&lt;/span&gt; --data-urlencode &lt;span class=&#34;string&#34;&gt;&amp;#x27;filters=&amp;#123;&amp;quot;status&amp;quot;: [&amp;quot;running&amp;quot;]&amp;#125;&amp;#x27;&lt;/span&gt; | jq &lt;span class=&#34;string&#34;&gt;&amp;#x27;.[] | &amp;#123;Id, Names&amp;#125;&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;对于想通过 nginx 的 path 来区分不同应用的，可以这样配置，&lt;a href=&#34;https://serverfault.com/questions/1091572/nginx-reverse-proxy-with-subpath&#34;&gt;参考&lt;/a&gt;  &lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;location /app1/ &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	proxy_set_header    X-Real-IP  $remote_addr;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	proxy_set_header    X-Forwarded-For $proxy_add_x_forwarded_for;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	proxy_set_header    Host $http_host;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	proxy_redirect      off;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	proxy_pass          http://127.0.0.1:3000/;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;location /app1 &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	return 301 /app1/;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;5-制作镜像&#34;&gt;&lt;a href=&#34;#5-制作镜像&#34; class=&#34;headerlink&#34; title=&#34;5 制作镜像&#34;&gt;&lt;/a&gt;5 制作镜像&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;如何编出更小的镜像 &lt;a href=&#34;https://jpetazzo.github.io/2020/02/01/quest-minimal-docker-images-part-1/&#34;&gt;系列文章&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;制作镜像&lt;/p&gt;
  &lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker build -t iebs .&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 要是网络不通可以试试 --network=host&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;docker build --network=host -t iebs .&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;可以用 &lt;a href=&#34;/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/docker/../linux%E8%BD%AF%E4%BB%B6%E7%BC%96%E8%AF%91%E3%80%81%E5%AE%89%E8%A3%85%E3%80%81%E8%BF%90%E8%A1%8C/#%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5-libc&#34;&gt;静态链接 libc&lt;/a&gt; 的方式编出单文件程序，Dockerfile 参考&lt;/p&gt;
  &lt;figure class=&#34;highlight dockerfile&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;FROM&lt;/span&gt; scratch&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;COPY&lt;/span&gt;&lt;span class=&#34;language-bash&#34;&gt; iiot_sdk /&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;CMD&lt;/span&gt;&lt;span class=&#34;language-bash&#34;&gt; [&lt;span class=&#34;string&#34;&gt;&amp;quot;./iiot_sdk&amp;quot;&lt;/span&gt;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://synrst.de/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/LFS/</guid>
            <title>LFS</title>
            <link>https://synrst.de/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/2.%20%E5%A4%84%E7%90%86%E5%B9%B3%E5%8F%B0/LFS/</link>
            <pubDate>Thu, 01 Jan 1970 08:00:00 +0800</pubDate>
            <description><![CDATA[ &lt;ul&gt;
&lt;li&gt;书的由来：按自己的喜好搭建，写自己的软件，有一个自己的系统。这本书还可用来理解系统&lt;ul&gt;
&lt;li&gt;定制化，尤其是小型嵌入式系统&lt;/li&gt;
&lt;li&gt;安全&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
    </channel>
</rss>
